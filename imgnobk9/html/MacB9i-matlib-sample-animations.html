

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Animations using Matplotlib &#8212; Hand-on Book3</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=ac02cc09edc035673794" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=ac02cc09edc035673794" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=ac02cc09edc035673794" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=ac02cc09edc035673794" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=ac02cc09edc035673794" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=ac02cc09edc035673794" />
  <script src="_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=ac02cc09edc035673794"></script>

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'MacB9i-matlib-sample-animations';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="test phy msu animation" href="MacB9b-TestPhyMSUanimate.html" />
    <link rel="prev" title="test3" href="MacB9c-test3.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="introAnimate.html">
  
  
  
  
    
    
      
    
    
    <img src="_static/Less.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="_static/Less.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="introAnimate.html">
                    0. Less 2?
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="MacB9e-test-Gif-ok-CopyForAlex.html">test-Gif-ok</a></li>
<li class="toctree-l1"><a class="reference internal" href="MacB9-Animate.html">MacB9-Animate</a></li>
<li class="toctree-l1"><a class="reference internal" href="MacB9h-DB7-sync.html">DB7-sync</a></li>
<li class="toctree-l1"><a class="reference internal" href="MacB9e-test-Gif-ok.html">test-Gif-ok</a></li>
<li class="toctree-l1"><a class="reference internal" href="MacB9d-test-iter.html">test-iter</a></li>
<li class="toctree-l1"><a class="reference internal" href="MacB9f-test-Juno-2.html">test-Juno-2</a></li>
<li class="toctree-l1"><a class="reference internal" href="MacB9c-test3.html">test3</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Animations using Matplotlib</a></li>
<li class="toctree-l1"><a class="reference internal" href="MacB9b-TestPhyMSUanimate.html">test phy msu animation</a></li>
<li class="toctree-l1"><a class="reference internal" href="Mlp3-cook1.html">mpl3 cook1</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://kwccoin.github.io/imginaryno2/imgnobk3/html/MacB3-Handon.html" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://kwccoin.github.io/imginaryno2/imgnobk3/html/MacB3-Handon.html/issues/new?title=Issue%20on%20page%20%2FMacB9i-matlib-sample-animations.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/MacB9i-matlib-sample-animations.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Animations using Matplotlib</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#animation-classes">Animation Classes</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#funcanimation"><code class="docutils literal notranslate"><span class="pre">FuncAnimation</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#artistanimation"><code class="docutils literal notranslate"><span class="pre">ArtistAnimation</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#animation-writers">Animation Writers</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#saving-animations">Saving Animations</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <p>.. redirect-from:: /tutorials/introductory/animation_tutorial</p>
<section class="tex2jax_ignore mathjax_ignore" id="animations-using-matplotlib">
<h1>Animations using Matplotlib<a class="headerlink" href="#animations-using-matplotlib" title="Permalink to this heading">#</a></h1>
<p>Based on its plotting functionality, Matplotlib also provides an interface to
generate animations using the <code class="docutils literal notranslate"><span class="pre">~matplotlib.animation</span></code> module. An
animation is a sequence of frames where each frame corresponds to a plot on a
<code class="docutils literal notranslate"><span class="pre">~matplotlib.figure.Figure</span></code>. This tutorial covers a general guideline on
how to create such animations and the different options available.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="kn">import</span> <span class="nn">matplotlib.animation</span> <span class="k">as</span> <span class="nn">animation</span>

<span class="c1"># default nothing does not work here!!!</span>
<span class="c1"># %matplotlib</span>
<span class="c1"># %matplotlib qt </span>
<span class="o">%</span><span class="k">matplotlib</span> tk 
</pre></div>
</div>
</div>
</div>
<section id="animation-classes">
<h2>Animation Classes<a class="headerlink" href="#animation-classes" title="Permalink to this heading">#</a></h2>
<p>The animation process in Matplotlib can be thought of in 2 different ways:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">~matplotlib.animation.FuncAnimation</span></code>: Generate data for first
frame and then modify this data for each frame to create an animated plot.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">~matplotlib.animation.ArtistAnimation</span></code>: Generate a list (iterable)
of artists that will draw in each frame in the animation.</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">~matplotlib.animation.FuncAnimation</span></code> is more efficient in terms of
speed and memory as it draws an artist once and then modifies it. On the
other hand <code class="docutils literal notranslate"><span class="pre">~matplotlib.animation.ArtistAnimation</span></code> is flexible as it
allows any iterable of artists to be animated in a sequence.</p>
<section id="funcanimation">
<h3><code class="docutils literal notranslate"><span class="pre">FuncAnimation</span></code><a class="headerlink" href="#funcanimation" title="Permalink to this heading">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">~matplotlib.animation.FuncAnimation</span></code> class allows us to create an
animation by passing a function that iteratively modifies the data of a plot.
This is achieved by using the <em>setter</em> methods on various
<code class="docutils literal notranslate"><span class="pre">~matplotlib.artist.Artist</span></code> (examples: <code class="docutils literal notranslate"><span class="pre">~matplotlib.lines.Line2D</span></code>,
<code class="docutils literal notranslate"><span class="pre">~matplotlib.collections.PathCollection</span></code>, etc.). A usual
<code class="docutils literal notranslate"><span class="pre">~matplotlib.animation.FuncAnimation</span></code> object takes a
<code class="docutils literal notranslate"><span class="pre">~matplotlib.figure.Figure</span></code> that we want to animate and a function
<em>func</em> that modifies the data plotted on the figure. It uses the <em>frames</em>
parameter to determine the length of the animation. The <em>interval</em> parameter
is used to determine time in milliseconds between drawing of two frames.
Animating using <code class="docutils literal notranslate"><span class="pre">.FuncAnimation</span></code> would usually follow the following
structure:</p>
<ul class="simple">
<li><p>Plot the initial figure, including all the required artists. Save all the
artists in variables so that they can be updated later on during the
animation.</p></li>
<li><p>Create an animation function that updates the data in each artist to
generate the new frame at each function call.</p></li>
<li><p>Create a <code class="docutils literal notranslate"><span class="pre">.FuncAnimation</span></code> object with the <code class="docutils literal notranslate"><span class="pre">.Figure</span></code> and the animation
function, along with the keyword arguments that determine the animation
properties.</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">.animation.Animation.save</span></code> or <code class="docutils literal notranslate"><span class="pre">.pyplot.show</span></code> to save or show the
animation.</p></li>
</ul>
<p>The update function uses the <code class="docutils literal notranslate"><span class="pre">set_*</span></code> function for different artists to
modify the data. The following table shows a few plotting methods, the artist
types they return and some methods that can be used to update them.</p>
<p>========================================  =============================  ===========================
Plotting method                           Artist                         Set method
========================================  =============================  ===========================
<code class="docutils literal notranslate"><span class="pre">.Axes.plot</span></code>                              <code class="docutils literal notranslate"><span class="pre">.lines.Line2D</span></code>                <code class="docutils literal notranslate"><span class="pre">~.lines.Line2D.set_data</span></code>
<code class="docutils literal notranslate"><span class="pre">.Axes.scatter</span></code>                           <code class="docutils literal notranslate"><span class="pre">.collections.PathCollection</span></code>  <code class="docutils literal notranslate"><span class="pre">~.collections.\</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">PathCollection.set_offsets</span></code>
<code class="docutils literal notranslate"><span class="pre">.Axes.imshow</span></code>                            <code class="docutils literal notranslate"><span class="pre">.image.AxesImage</span></code>             <code class="docutils literal notranslate"><span class="pre">AxesImage.set_data</span></code>
<code class="docutils literal notranslate"><span class="pre">.Axes.annotate</span></code>                          <code class="docutils literal notranslate"><span class="pre">.text.Annotation</span></code>             <code class="docutils literal notranslate"><span class="pre">~.text.Annotation.\</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">update_positions</span></code>
<code class="docutils literal notranslate"><span class="pre">.Axes.barh</span></code>                              <code class="docutils literal notranslate"><span class="pre">.patches.Rectangle</span></code>           <code class="docutils literal notranslate"><span class="pre">~.Rectangle.set_angle</span></code>,
<code class="docutils literal notranslate"><span class="pre">~.Rectangle.set_bounds</span></code>,
<code class="docutils literal notranslate"><span class="pre">~.Rectangle.set_height</span></code>,
<code class="docutils literal notranslate"><span class="pre">~.Rectangle.set_width</span></code>,
<code class="docutils literal notranslate"><span class="pre">~.Rectangle.set_x</span></code>,
<code class="docutils literal notranslate"><span class="pre">~.Rectangle.set_y</span></code>,
<code class="docutils literal notranslate"><span class="pre">~.Rectangle.set_xy</span></code>
<code class="docutils literal notranslate"><span class="pre">.Axes.fill</span></code>                              <code class="docutils literal notranslate"><span class="pre">.patches.Polygon</span></code>             <code class="docutils literal notranslate"><span class="pre">~.Polygon.set_xy</span></code>
<code class="docutils literal notranslate"><span class="pre">.Axes.add_patch</span></code>(<code class="docutils literal notranslate"><span class="pre">.patches.Ellipse</span></code>)   <code class="docutils literal notranslate"><span class="pre">.patches.Ellipse</span></code>             <code class="docutils literal notranslate"><span class="pre">~.Ellipse.set_angle</span></code>,
<code class="docutils literal notranslate"><span class="pre">~.Ellipse.set_center</span></code>,
<code class="docutils literal notranslate"><span class="pre">~.Ellipse.set_height</span></code>,
<code class="docutils literal notranslate"><span class="pre">~.Ellipse.set_width</span></code>
========================================  =============================  ===========================</p>
<p>Covering the set methods for all types of artists is beyond the scope of this
tutorial but can be found in their respective documentations. An example of
such update methods in use for <code class="docutils literal notranslate"><span class="pre">.Axes.scatter</span></code> and <code class="docutils literal notranslate"><span class="pre">.Axes.plot</span></code> is as follows.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">40</span><span class="p">)</span>
<span class="n">g</span> <span class="o">=</span> <span class="o">-</span><span class="mf">9.81</span>
<span class="n">v0</span> <span class="o">=</span> <span class="mi">12</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">g</span> <span class="o">*</span> <span class="n">t</span><span class="o">**</span><span class="mi">2</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">v0</span> <span class="o">*</span> <span class="n">t</span>

<span class="n">v02</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">z2</span> <span class="o">=</span> <span class="n">g</span> <span class="o">*</span> <span class="n">t</span><span class="o">**</span><span class="mi">2</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">v02</span> <span class="o">*</span> <span class="n">t</span>

<span class="n">scat</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">z</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">c</span><span class="o">=</span><span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;v0 = </span><span class="si">{</span><span class="n">v0</span><span class="si">}</span><span class="s1"> m/s&#39;</span><span class="p">)</span>
<span class="n">line2</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">z2</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;v0 = </span><span class="si">{</span><span class="n">v02</span><span class="si">}</span><span class="s1"> m/s&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">xlim</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">ylim</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span> <span class="n">xlabel</span><span class="o">=</span><span class="s1">&#39;Time [s]&#39;</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="s1">&#39;Z [m]&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>


<span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="n">frame</span><span class="p">):</span>
    <span class="c1"># for each frame, update the data stored on each artist.</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">t</span><span class="p">[:</span><span class="n">frame</span><span class="p">]</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">z</span><span class="p">[:</span><span class="n">frame</span><span class="p">]</span>
    <span class="c1"># update the scatter plot:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">stack</span><span class="p">([</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">])</span><span class="o">.</span><span class="n">T</span>
    <span class="n">scat</span><span class="o">.</span><span class="n">set_offsets</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="c1"># update the line plot:</span>
    <span class="n">line2</span><span class="o">.</span><span class="n">set_xdata</span><span class="p">(</span><span class="n">t</span><span class="p">[:</span><span class="n">frame</span><span class="p">])</span>
    <span class="n">line2</span><span class="o">.</span><span class="n">set_ydata</span><span class="p">(</span><span class="n">z2</span><span class="p">[:</span><span class="n">frame</span><span class="p">])</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">scat</span><span class="p">,</span> <span class="n">line2</span><span class="p">)</span>


<span class="n">ani</span> <span class="o">=</span> <span class="n">animation</span><span class="o">.</span><span class="n">FuncAnimation</span><span class="p">(</span><span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span> <span class="n">func</span><span class="o">=</span><span class="n">update</span><span class="p">,</span> <span class="n">frames</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="n">interval</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="artistanimation">
<h3><code class="docutils literal notranslate"><span class="pre">ArtistAnimation</span></code><a class="headerlink" href="#artistanimation" title="Permalink to this heading">#</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">~matplotlib.animation.ArtistAnimation</span></code> can be used
to generate animations if there is data stored on various different artists.
This list of artists is then converted frame by frame into an animation. For
example, when we use <code class="docutils literal notranslate"><span class="pre">.Axes.barh</span></code> to plot a bar-chart, it creates a number of
artists for each of the bar and error bars. To update the plot, one would
need to update each of the bars from the container individually and redraw
them. Instead, <code class="docutils literal notranslate"><span class="pre">.animation.ArtistAnimation</span></code> can be used to plot each frame
individually and then stitched together to form an animation. A barchart race
is a simple example for this.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">default_rng</span><span class="p">(</span><span class="mi">19680801</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">])</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>

<span class="n">artists</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;tab:blue&#39;</span><span class="p">,</span> <span class="s1">&#39;tab:red&#39;</span><span class="p">,</span> <span class="s1">&#39;tab:green&#39;</span><span class="p">,</span> <span class="s1">&#39;tab:purple&#39;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">):</span>
    <span class="n">data</span> <span class="o">+=</span> <span class="n">rng</span><span class="o">.</span><span class="n">integers</span><span class="p">(</span><span class="n">low</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">high</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
    <span class="n">container</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">barh</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">colors</span><span class="p">)</span>
    <span class="n">artists</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">container</span><span class="p">)</span>


<span class="n">ani</span> <span class="o">=</span> <span class="n">animation</span><span class="o">.</span><span class="n">ArtistAnimation</span><span class="p">(</span><span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span> <span class="n">artists</span><span class="o">=</span><span class="n">artists</span><span class="p">,</span> <span class="n">interval</span><span class="o">=</span><span class="mi">400</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="animation-writers">
<h2>Animation Writers<a class="headerlink" href="#animation-writers" title="Permalink to this heading">#</a></h2>
<p>Animation objects can be saved to disk using various multimedia writers
(ex: Pillow, <em>ffpmeg</em>, <em>imagemagick</em>). Not all video formats are supported
by all writers. There are 4 major types of writers:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">~matplotlib.animation.PillowWriter</span></code> - Uses the Pillow library to
create the animation.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">~matplotlib.animation.HTMLWriter</span></code> - Used to create JavaScript-based
animations.</p></li>
<li><p>Pipe-based writers - <code class="docutils literal notranslate"><span class="pre">~matplotlib.animation.FFMpegWriter</span></code> and
<code class="docutils literal notranslate"><span class="pre">~matplotlib.animation.ImageMagickWriter</span></code> are pipe based writers.
These writers pipe each frame to the utility (<em>ffmpeg</em> / <em>imagemagick</em>)
which then stitches all of them together to create the animation.</p></li>
<li><p>File-based writers - <code class="docutils literal notranslate"><span class="pre">~matplotlib.animation.FFMpegFileWriter</span></code> and
<code class="docutils literal notranslate"><span class="pre">~matplotlib.animation.ImageMagickFileWriter</span></code> are examples of
file-based writers. These writers are slower than their pipe-based
alternatives but are more useful for debugging as they save each frame in
a file before stitching them together into an animation.</p></li>
</ul>
<section id="saving-animations">
<h3>Saving Animations<a class="headerlink" href="#saving-animations" title="Permalink to this heading">#</a></h3>
<p>.. list-table::
:header-rows: 1</p>
<ul class="simple">
<li><ul>
<li><p>Writer</p></li>
<li><p>Supported Formats</p></li>
</ul>
</li>
<li><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">~matplotlib.animation.PillowWriter</span></code></p></li>
<li><p>.gif, .apng, .webp</p></li>
</ul>
</li>
<li><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">~matplotlib.animation.HTMLWriter</span></code></p></li>
<li><p>.htm, .html, .png</p></li>
</ul>
</li>
<li><ul>
<li><p>| <code class="docutils literal notranslate"><span class="pre">~matplotlib.animation.FFMpegWriter</span></code>
| <code class="docutils literal notranslate"><span class="pre">~matplotlib.animation.FFMpegFileWriter</span></code></p></li>
<li><p>All formats supported by |ffmpeg|_: <code class="docutils literal notranslate"><span class="pre">ffmpeg</span> <span class="pre">-formats</span></code></p></li>
</ul>
</li>
<li><ul>
<li><p>| <code class="docutils literal notranslate"><span class="pre">~matplotlib.animation.ImageMagickWriter</span></code>
| <code class="docutils literal notranslate"><span class="pre">~matplotlib.animation.ImageMagickFileWriter</span></code></p></li>
<li><p>All formats supported by |imagemagick|_: <code class="docutils literal notranslate"><span class="pre">magick</span> <span class="pre">-list</span> <span class="pre">format</span></code></p></li>
</ul>
</li>
</ul>
<p>.. |ffmpeg| replace:: <em>ffmpeg</em></p>
<p>.. |imagemagick| replace:: <em>imagemagick</em></p>
<p>To save animations using any of the writers, we can use the
<code class="docutils literal notranslate"><span class="pre">.animation.Animation.save</span></code> method. It takes the <em>filename</em> that we want to
save the animation as and the <em>writer</em>, which is either a string or a writer
object. It also takes an <em>fps</em> argument. This argument is different than the
<em>interval</em> argument that <code class="docutils literal notranslate"><span class="pre">~.animation.FuncAnimation</span></code> or
<code class="docutils literal notranslate"><span class="pre">~.animation.ArtistAnimation</span></code> uses. <em>fps</em> determines the frame rate that the
<strong>saved</strong> animation uses, whereas <em>interval</em> determines the frame rate that
the <strong>displayed</strong> animation uses.</p>
<p>Below are a few examples that show how to save an animation with different
writers.</p>
<p>Pillow writers::</p>
<p>ani.save(filename=”/tmp/pillow_example.gif”, writer=”pillow”)
ani.save(filename=”/tmp/pillow_example.apng”, writer=”pillow”)</p>
<p>HTML writers::</p>
<p>ani.save(filename=”/tmp/html_example.html”, writer=”html”)
ani.save(filename=”/tmp/html_example.htm”, writer=”html”)
ani.save(filename=”/tmp/html_example.png”, writer=”html”)</p>
<p>FFMpegWriter::</p>
<p>ani.save(filename=”/tmp/ffmpeg_example.mkv”, writer=”ffmpeg”)
ani.save(filename=”/tmp/ffmpeg_example.mp4”, writer=”ffmpeg”)
ani.save(filename=”/tmp/ffmpeg_example.mjpeg”, writer=”ffmpeg”)</p>
<p>Imagemagick writers::</p>
<p>ani.save(filename=”/tmp/imagemagick_example.gif”, writer=”imagemagick”)
ani.save(filename=”/tmp/imagemagick_example.webp”, writer=”imagemagick”)
ani.save(filename=”apng:/tmp/imagemagick_example.apng”,
writer=”imagemagick”, extra_args=[“-quality”, “100”])</p>
<p>(the <code class="docutils literal notranslate"><span class="pre">extra_args</span></code> for <em>apng</em> are needed to reduce filesize by ~10x)</p>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  <!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="MacB9c-test3.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">test3</p>
      </div>
    </a>
    <a class="right-next"
       href="MacB9b-TestPhyMSUanimate.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">test phy msu animation</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#animation-classes">Animation Classes</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#funcanimation"><code class="docutils literal notranslate"><span class="pre">FuncAnimation</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#artistanimation"><code class="docutils literal notranslate"><span class="pre">ArtistAnimation</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#animation-writers">Animation Writers</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#saving-animations">Saving Animations</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Dennis Ng
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=ac02cc09edc035673794"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=ac02cc09edc035673794"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>