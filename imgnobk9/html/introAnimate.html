

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Hand-on Book3</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=ac02cc09edc035673794" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=ac02cc09edc035673794" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=ac02cc09edc035673794" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=ac02cc09edc035673794" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=ac02cc09edc035673794" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=ac02cc09edc035673794" />
  <script src="_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=ac02cc09edc035673794"></script>

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'introAnimate';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="#">
  
  
  
  
    
    
      
    
    
    <img src="_static/Less.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="_static/Less.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1 current active">
                <a class="reference internal" href="#">
                    0. Less 2?
                </a>
            </li>
        </ul>
        <ul class="nav bd-sidenav">










</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://kwccoin.github.io/imginaryno2/imgnobk3/html/MacB3-Handon.html" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://kwccoin.github.io/imginaryno2/imgnobk3/html/MacB3-Handon.html/issues/new?title=Issue%20on%20page%20%2FintroAnimate.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>0. Less 2?</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toctree-l1 toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="introAnimate.html#document-MacB9e-test-Gif-ok-CopyForAlex">test-Gif-ok</a></li>
<li class="toctree-l1 toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="introAnimate.html#document-MacB9-Animate">MacB9-Animate</a></li>
<li class="toctree-l1 toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="introAnimate.html#document-MacB9h-DB7-sync">DB7-sync</a></li>
<li class="toctree-l1 toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="introAnimate.html#document-MacB9e-test-Gif-ok">test-Gif-ok</a></li>
<li class="toctree-l1 toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="introAnimate.html#document-MacB9d-test-iter">test-iter</a></li>
<li class="toctree-l1 toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="introAnimate.html#document-MacB9f-test-Juno-2">test-Juno-2</a></li>
<li class="toctree-l1 toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="introAnimate.html#document-MacB9c-test3">test3</a></li>
<li class="toctree-l1 toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="introAnimate.html#document-MacB9i-matlib-sample-animations">Animations using Matplotlib</a></li>
<li class="toctree-l1 toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="introAnimate.html#document-MacB9b-TestPhyMSUanimate">test phy msu animation</a></li>
<li class="toctree-l1 toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="introAnimate.html#document-Mlp3-cook1">mpl3 cook1</a></li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="less-2">
<h1>0. Less 2?<a class="headerlink" href="#less-2" title="Permalink to this heading">#</a></h1>
<p>…</p>
<section id="in-case-of-doubt-it-is-just-a-hobby-not-for-production">
<h2>In case of doubt … it is just a hobby not for “production”<a class="headerlink" href="#in-case-of-doubt-it-is-just-a-hobby-not-for-production" title="Permalink to this heading">#</a></h2>
<section id="tableofcontents">
<h3>```{tableofcontents}<a class="headerlink" href="#tableofcontents" title="Permalink to this heading">#</a></h3>
</section>
<section id="id1">
<h3>```<a class="headerlink" href="#id1" title="Permalink to this heading">#</a></h3>
</section>
<section id="contents">
<h3>```{contents}<a class="headerlink" href="#contents" title="Permalink to this heading">#</a></h3>
</section>
<section id="local">
<h3>:local:<a class="headerlink" href="#local" title="Permalink to this heading">#</a></h3>
</section>
<section id="id2">
<h3>```<a class="headerlink" href="#id2" title="Permalink to this heading">#</a></h3>
</section>
</section>
<div class="toctree-wrapper compound">
<span id="document-MacB9e-test-Gif-ok-CopyForAlex"></span><section class="tex2jax_ignore mathjax_ignore" id="test-gif-ok">
<h2>test-Gif-ok<a class="headerlink" href="#test-gif-ok" title="Permalink to this heading">#</a></h2>
<section id="basciallly">
<h3>Basciallly<a class="headerlink" href="#basciallly" title="Permalink to this heading">#</a></h3>
<section id="set-working-directory-under-juno-is-a-must">
<h4>set working directory under Juno is a must!!!<a class="headerlink" href="#set-working-directory-under-juno-is-a-must" title="Permalink to this heading">#</a></h4>
</section>
<section id="under-juno-connect-to-my-macmini">
<h4>under Juno Connect to my MacMini,<a class="headerlink" href="#under-juno-connect-to-my-macmini" title="Permalink to this heading">#</a></h4>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>it works yesterday but not today, no idea
</pre></div>
</div>
</section>
<section id="under-ipados">
<h4>under iPadOS<a class="headerlink" href="#under-ipados" title="Permalink to this heading">#</a></h4>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>tk and qt does not expect and actually do not work 

imshow does not work as GIF display hence use markdown
I have to save the animation into GIF and display using markdown as in here
    under markdown, there is no need of ./ and in fact having those may not work ... try to re-run all with new jernel seems to work the second time
</pre></div>
</div>
</section>
<section id="under-macos-macmini-m1">
<h4>under MacOS (macmini M1)<a class="headerlink" href="#under-macos-macmini-m1" title="Permalink to this heading">#</a></h4>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>the display under markdown work 
    in MacOS only if it has a directory there like ./ or img/
    otherwise not working  
if you run the Gif under safari the Gif is generated correctly though
</pre></div>
</div>
<p>for the option</p>
<ul>
<li><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>- Work under MacOS (in seperate windows and has to wait a bit)
- not under ipados
</pre></div>
</div>
</li>
<li><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>- Work under MacOS (in seperate windows and has to wait a bit)
- not under ipados
</pre></div>
</div>
</li>
<li><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>- not work under MacOS
- work but only as non-interactive backend
</pre></div>
</div>
<ul class="simple">
<li><p>as default message said the TkAgg is non-interactive and hence cannot plt.show()</p></li>
</ul>
</li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># see https://stackoverflow.com/questions/56423221/saving-animated-matplotlib-chart-to-gif</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">matplotlib.animation</span> <span class="k">as</span> <span class="nn">animation</span>

<span class="c1">#%matplotlib qt</span>
<span class="c1"># %matplotlib tk</span>
<span class="o">%</span><span class="k">matplotlib</span>

<span class="n">TWOPI</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

<span class="n">t</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">TWOPI</span><span class="p">,</span> <span class="mf">0.001</span><span class="p">)</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="n">l</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>

<span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="n">TWOPI</span><span class="p">,</span><span class="o">-</span><span class="mf">1.1</span><span class="p">,</span><span class="mf">1.1</span><span class="p">])</span>

<span class="n">redDot</span><span class="p">,</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="mi">0</span><span class="p">)],</span> <span class="s1">&#39;ro&#39;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">animate</span><span class="p">(</span><span class="n">i</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">redDot</span><span class="o">.</span><span class="n">set_data</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">i</span><span class="p">))</span> 
    <span class="c1"># got warning message </span>
    <span class="c1"># seems later would not support this </span>
    <span class="k">return</span> <span class="n">redDot</span><span class="p">,</span>

<span class="c1"># create animation using the animate() function with no repeat</span>
<span class="n">myAnimation</span> <span class="o">=</span> <span class="n">animation</span><span class="o">.</span><span class="n">FuncAnimation</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">animate</span><span class="p">,</span> <span class="n">frames</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">TWOPI</span><span class="p">,</span> <span class="mf">0.03</span><span class="p">),</span> \
                                      <span class="n">interval</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">blit</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">repeat</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="n">myAnimation</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;test-Gif-ok3U2Alex.gif&#39;</span><span class="p">,</span> <span class="n">writer</span><span class="o">=</span><span class="s1">&#39;pillow&#39;</span><span class="p">,</span> <span class="n">fps</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
<span class="n">myAnimation</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;img/test-Gif-ok3Alex.gif&#39;</span><span class="p">,</span> <span class="n">writer</span><span class="o">=</span><span class="s1">&#39;pillow&#39;</span><span class="p">,</span> <span class="n">fps</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>



<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># under iPad </span>
<span class="c1"># &lt;ipython-input-8-c07342f6b45b&gt;:59: UserWarning: Matplotlib is currently using TkAgg, </span>
<span class="c1"># which is a non-GUI backend, so cannot show the figure. plt.show()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Using matplotlib backend: &lt;object object at 0x107eaf330&gt;
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/var/folders/33/krstvgns2rncl74r18tkv6_80000gn/T/ipykernel_32039/3771949022.py:26: MatplotlibDeprecationWarning: Setting data with a non sequence type is deprecated since 3.7 and will be remove two minor releases later
  redDot.set_data(i, np.sin(i))
/var/folders/33/krstvgns2rncl74r18tkv6_80000gn/T/ipykernel_32039/3771949022.py:26: MatplotlibDeprecationWarning: Setting data with a non sequence type is deprecated since 3.7 and will be remove two minor releases later
  redDot.set_data(i, np.sin(i))
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/var/folders/33/krstvgns2rncl74r18tkv6_80000gn/T/ipykernel_32039/3771949022.py:26: MatplotlibDeprecationWarning: Setting data with a non sequence type is deprecated since 3.7 and will be remove two minor releases later
  redDot.set_data(i, np.sin(i))
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># in code cell</span>

<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">matplotlib.image</span> <span class="k">as</span> <span class="nn">mpimg</span>

<span class="n">imgU</span> <span class="o">=</span> <span class="n">mpimg</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s2">&quot;test-Gif-ok3U2Alex.gif&quot;</span><span class="p">)</span> <span class="c1"># this work as well</span>
<span class="n">imgA</span> <span class="o">=</span> <span class="n">mpimg</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s2">&quot;img/test-Gif-ok3Alex.gif&quot;</span><span class="p">)</span> <span class="c1"># this work</span>

<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">imgU</span><span class="p">)</span> 
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">imgA</span><span class="p">)</span> 
<span class="c1"># only 1 img but if you just do one both work</span>
<span class="c1"># but no animation under iPad Juno or MacOS</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.image.AxesImage at 0x11017a450&gt;
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="work">
<h3>work<a class="headerlink" href="#work" title="Permalink to this heading">#</a></h3>
<p><a class="reference external" href="https://stackoverflow.com/questions/51527868/how-do-i-embed-a-gif-in-jupyter-notebook">sf sample</a></p>
<p><img alt="ChessUrl" src="https://upload.wikimedia.org/wikipedia/commons/7/71/ChessPawnSpecialMoves.gif" /></p>
<p><img alt="SegmentLocal3" src="_images/test-Gif-ok3U2Alex.gif" /></p>
<p><img alt="SegmentLocal3" src="_images/test-Gif-ok3Alex.gif" /></p>
<p><img alt="SegmentLocal3" src="_images/test-Gif-ok3U2Alex.gif" /></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="n">x</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span>
<span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span><span class="si">=}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">x</span><span class="si">=}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="si">=}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>os.getcwd()=&#39;/Users/ngcchk/Documents/GitHub/gpd2-win-unity1/ipadred-rain/imgno_book1/imgnobk9&#39;
x=&#39;/Users/ngcchk/Documents/GitHub/gpd2-win-unity1/ipadred-rain/imgno_book1/imgnobk9&#39;
os.listdir(x)=[&#39;JB_logo.png&#39;, &#39;test-Gif-ok2.gif&#39;, &#39;.DS_Store&#39;, &#39;media copy&#39;, &#39;requirements.txt&#39;, &#39;imgnobk9References.bib&#39;, &#39;MacB9i-matlib-sample-animations.ipynb&#39;, &#39;lines_4.mp4&#39;, &#39;MacB9c-test3.ipynb&#39;, &#39;teset_7_particle_box.mp4&#39;, &#39;MacB9e-test-Gif-ok.ipynb&#39;, &#39;introAnimate.md&#39;, &#39;MacB9-Animate.ipynb&#39;, &#39;nongui_backend.png&#39;, &#39;test-Gif-ok3U2Alex.gif&#39;, &#39;img&#39;, &#39;MacB9d-test-iter.ipynb&#39;, &#39;_toc.yml&#39;, &#39;im_4.mp4&#39;, &#39;Less.png&#39;, &#39;_build&#39;, &#39;_config.yml&#39;, &#39;iter-ok1.gif&#39;, &#39;.ipynb_checkpoints&#39;, &#39;MacB9e-test-Gif-ok-CopyForAlex.ipynb&#39;, &#39;MacB9f-test-Juno-2.ipynb&#39;, &#39;Mlp3-cook1.ipynb&#39;, &#39;main&#39;, &#39;MacB9h-DB7-sync.ipynb&#39;, &#39;myAnimation.gif&#39;, &#39;MacB9b-TestPhyMSUanimate.ipynb&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">platform</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">platform</span><span class="o">.</span><span class="n">system</span><span class="p">()</span><span class="si">=}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="c1"># may need in the future to handle os difference </span>
<span class="c1"># but iPadOS and MacOS all report the same thing!!!</span>
<span class="c1"># not sure about ultimate target jypyter notebook 2b test</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">platform</span><span class="o">.</span><span class="n">release</span><span class="p">()</span><span class="si">=}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">platform</span><span class="o">.</span><span class="n">version</span><span class="p">()</span><span class="si">=}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># ipad same as MacOS it seems though ... !!!</span>
<span class="sd">&#39;&#39;&#39;</span>
<span class="sd">platform.system()=&#39;Darwin&#39;</span>
<span class="sd">platform.release()=&#39;22.6.0&#39;</span>
<span class="sd">platform.version()=&#39;Darwin Kernel Version 22.6.0: Wed Jun 28 20:51:42 PDT 2023; root:xnu-8796.142.1~1/RELEASE_ARM64_T8020&#39;</span>
<span class="sd">&#39;&#39;&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>platform.system()=&#39;Darwin&#39;
platform.release()=&#39;22.6.0&#39;
platform.version()=&#39;Darwin Kernel Version 22.6.0: Wed Jul  5 22:22:52 PDT 2023; root:xnu-8796.141.3~6/RELEASE_ARM64_T8103&#39;
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&quot;\nplatform.system()=&#39;Darwin&#39;\nplatform.release()=&#39;22.6.0&#39;\nplatform.version()=&#39;Darwin Kernel Version 22.6.0: Wed Jun 28 20:51:42 PDT 2023; root:xnu-8796.142.1~1/RELEASE_ARM64_T8020&#39;\n&quot;
</pre></div>
</div>
</div>
</div>
</section>
</section>
<span id="document-MacB9-Animate"></span><section class="tex2jax_ignore mathjax_ignore" id="macb9-animate">
<h2>MacB9-Animate<a class="headerlink" href="#macb9-animate" title="Permalink to this heading">#</a></h2>
<section id="less-is-more-thinking">
<h3>1. Less is More Thinking<a class="headerlink" href="#less-is-more-thinking" title="Permalink to this heading">#</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Thinking in Less Important Topics
</pre></div>
</div>
<p>May be just Frozen, Star Wars, Digital Currency …</p>
</section>
</section>
<span id="document-MacB9h-DB7-sync"></span><section class="tex2jax_ignore mathjax_ignore" id="db7-sync">
<h2>DB7-sync<a class="headerlink" href="#db7-sync" title="Permalink to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 581.4 +\</span>
<span class="c1"># 96 +\</span>

<span class="n">total</span> <span class="o">=</span> <span class="mf">123.2</span> <span class="o">+</span>\
<span class="mf">148.4</span> <span class="o">+</span>\
<span class="mf">63.6</span> <span class="o">+</span>\
<span class="mf">70.3</span> <span class="o">+</span>\
<span class="mf">379.2</span> <span class="o">+</span>\
<span class="mf">0774.9</span> <span class="o">+</span>\
<span class="mf">225.6</span> <span class="o">+</span>\
<span class="mf">39.2</span> <span class="o">+</span>\
<span class="mf">0103.6</span> <span class="o">+</span>\
<span class="mf">163.1</span> <span class="o">+</span>\
<span class="mf">318.5</span> <span class="o">+</span>\
<span class="mi">148</span> <span class="o">+</span>\
<span class="mf">20.2</span> <span class="o">+</span>\
<span class="mf">379.4</span> <span class="o">+</span>\
<span class="mf">94.1</span> <span class="o">+</span>\
<span class="mf">189.5</span> <span class="o">+</span>\
<span class="mf">332.8</span> <span class="o">+</span>\
<span class="mf">181.5</span> <span class="o">+</span>\
<span class="mi">489</span> <span class="o">+</span>\
<span class="mf">85.4</span> <span class="o">+</span>\
<span class="mf">99.7</span> <span class="o">+</span>\
<span class="mi">792</span> <span class="o">+</span>\
<span class="mf">172.7</span> <span class="o">+</span>\
<span class="mf">178.3</span> <span class="o">+</span>\
<span class="mi">0</span>

<span class="nb">print</span><span class="p">(</span><span class="n">total</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>5572.2
</pre></div>
</div>
</div>
</div>
</section>
<span id="document-MacB9e-test-Gif-ok"></span><section class="tex2jax_ignore mathjax_ignore" id="test-gif-ok">
<h2>test-Gif-ok<a class="headerlink" href="#test-gif-ok" title="Permalink to this heading">#</a></h2>
<section id="gif-sample">
<h3>Gif sample<a class="headerlink" href="#gif-sample" title="Permalink to this heading">#</a></h3>
</section>
<section id="mainly-from-matplotlib">
<h3>mainly from matplotlib …<a class="headerlink" href="#mainly-from-matplotlib" title="Permalink to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># https://stackoverflow.com/questions/56423221/saving-animated-matplotlib-chart-to-gif</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">matplotlib.animation</span> <span class="k">as</span> <span class="nn">animation</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">rcParams</span>

<span class="c1">#%matplotlib qt</span>
<span class="c1">#%matplotlib tk</span>
<span class="c1">#%matplotlib</span>

<span class="c1"># configure full path for ImageMagick</span>
<span class="c1"># seems to work in iOS and macOS !!!</span>

<span class="c1">#rcParams[&#39;animation.convert_path&#39;] = r&#39;/usr/bin/convert&#39;</span>

<span class="n">TWOPI</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

<span class="n">t</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">TWOPI</span><span class="p">,</span> <span class="mf">0.001</span><span class="p">)</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="n">l</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>

<span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="n">TWOPI</span><span class="p">,</span><span class="o">-</span><span class="mf">1.1</span><span class="p">,</span><span class="mf">1.1</span><span class="p">])</span>

<span class="n">redDot</span><span class="p">,</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="mi">0</span><span class="p">)],</span> <span class="s1">&#39;ro&#39;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">animate</span><span class="p">(</span><span class="n">i</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">/var/folders/_y/zx724y_158bf6f_4nxr4dm540000gn/T/ipykernel_72553/3641039220.py:24: MatplotlibDeprecationWarning: Setting data with a non sequence type is deprecated since 3.7 and will be remove two minor releases later</span>
<span class="sd">  redDot.set_data(i, np.sin(i))</span>
<span class="sd">/var/folders/_y/zx724y_158bf6f_4nxr4dm540000gn/T/ipykernel_72553/3641039220.py:24: MatplotlibDeprecationWarning: Setting data with a non sequence type is deprecated since 3.7 and will be remove two minor releases later</span>
<span class="sd">  redDot.set_data(i, np.sin(i))</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">redDot</span><span class="o">.</span><span class="n">set_data</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">i</span><span class="p">))</span> <span class="c1"># seems later would not support this </span>
    <span class="k">return</span> <span class="n">redDot</span><span class="p">,</span>

<span class="c1"># create animation using the animate() function with no repeat</span>
<span class="n">myAnimation</span> <span class="o">=</span> <span class="n">animation</span><span class="o">.</span><span class="n">FuncAnimation</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">animate</span><span class="p">,</span> <span class="n">frames</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">TWOPI</span><span class="p">,</span> <span class="mf">0.03</span><span class="p">),</span> \
                                      <span class="n">interval</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">blit</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">repeat</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="c1"># 0.01 quit slow</span>
<span class="c1"># 0.05 </span>
<span class="c1"># save animation at 30 frames per second</span>
<span class="c1">#myAnimation.save(&#39;myAnimation.gif&#39;, writer=&#39;imagemagick&#39;, fps=30)</span>

<span class="c1">#plt.rcParams[&quot;figure.figsize&quot;] = [7.50, 3.50]</span>
<span class="c1">#plt.rcParams[&quot;figure.autolayout&quot;] = True</span>

<span class="c1">#dir_name = &quot;C:/Windows/Temp/&quot;</span>
<span class="c1">#dir_name = &quot;image&quot;</span>

<span class="c1">#plt.rcParams[&quot;savefig.directory&quot;] = os.chdir(os.path.dirname(dir_name))</span>

<span class="n">myAnimation</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;img/test-Gif-ok2.gif&#39;</span><span class="p">,</span> <span class="n">writer</span><span class="o">=</span><span class="s1">&#39;pillow&#39;</span><span class="p">,</span> <span class="n">fps</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
<span class="n">myAnimation</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;test-Gif-ok2.gif&#39;</span><span class="p">,</span> <span class="n">writer</span><span class="o">=</span><span class="s1">&#39;pillow&#39;</span><span class="p">,</span> <span class="n">fps</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
<span class="c1"># seems default </span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/var/folders/33/krstvgns2rncl74r18tkv6_80000gn/T/ipykernel_32027/2052094205.py:36: MatplotlibDeprecationWarning: Setting data with a non sequence type is deprecated since 3.7 and will be remove two minor releases later
  redDot.set_data(i, np.sin(i)) # seems later would not support this
/var/folders/33/krstvgns2rncl74r18tkv6_80000gn/T/ipykernel_32027/2052094205.py:36: MatplotlibDeprecationWarning: Setting data with a non sequence type is deprecated since 3.7 and will be remove two minor releases later
  redDot.set_data(i, np.sin(i)) # seems later would not support this
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/var/folders/33/krstvgns2rncl74r18tkv6_80000gn/T/ipykernel_32027/2052094205.py:36: MatplotlibDeprecationWarning: Setting data with a non sequence type is deprecated since 3.7 and will be remove two minor releases later
  redDot.set_data(i, np.sin(i)) # seems later would not support this
</pre></div>
</div>
<img alt="_images/9e1b88215de928b3f416d1226a87e2f7962b609cae64e12808c098f307d51ac3.png" src="_images/9e1b88215de928b3f416d1226a87e2f7962b609cae64e12808c098f307d51ac3.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># in code cell</span>

<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="kn">import</span> <span class="nn">matplotlib.image</span> <span class="k">as</span> <span class="nn">mpimg</span>

<span class="n">imgi2</span> <span class="o">=</span> <span class="n">mpimg</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s2">&quot;img/test-Gif-ok2.gif&quot;</span><span class="p">)</span>
<span class="n">img2</span>  <span class="o">=</span> <span class="n">mpimg</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s2">&quot;test-Gif-ok2.gif&quot;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">imgi2</span><span class="p">)</span> <span class="c1"># but no animation</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">img2</span><span class="p">)</span> <span class="c1"># but no animation</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.image.AxesImage at 0x1064114d0&gt;
</pre></div>
</div>
<img alt="_images/6461fe27667fee31d5ec346a3e4ed6ce774d4cb1379a6fb178da413329b09354.png" src="_images/6461fe27667fee31d5ec346a3e4ed6ce774d4cb1379a6fb178da413329b09354.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## set working directory </span>
</pre></div>
</div>
</div>
</div>
<section id="in-markdown-one-can-try-this">
<h4>in markdown one can try this:<a class="headerlink" href="#in-markdown-one-can-try-this" title="Permalink to this heading">#</a></h4>
<p><a class="reference external" href="https://stackoverflow.com/questions/51527868/how-do-i-embed-a-gif-in-jupyter-notebook">sf sample</a></p>
<p><img alt="ChessUrl" src="https://upload.wikimedia.org/wikipedia/commons/7/71/ChessPawnSpecialMoves.gif" /></p>
</section>
<section id="not-working">
<h4>not working<a class="headerlink" href="#not-working" title="Permalink to this heading">#</a></h4>
<p>`</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>![SegmentLocal](/Users/username/some-folder/191px-Seven_segment_display-animated.gif &quot;segment&quot;)
![SegmentLocal](&quot;img/Gif-ok.gif&quot; &quot;segment&quot;)
[SegmentLocal](&quot;img/Gif-ok.gif&quot; &quot;segment&quot;)

 ![SegmentLocal](/private/var/mobile/Containers/Data/Application/2E20887D-C1B2-42E5-B5DB-BAC9039A68FE/Library/Caches/test-Gif-ok.gif &quot;segment&quot;)

[SegmentLocal](img/test-Gif-ok.gif &quot;segment&quot;)

[SegmentLocal](&quot;test-Gif-ok.gif&quot; &quot;segment&quot;)
</pre></div>
</div>
<p>`</p>
</section>
</section>
<section id="work">
<h3>work<a class="headerlink" href="#work" title="Permalink to this heading">#</a></h3>
<p><a class="reference external" href="https://stackoverflow.com/questions/51527868/how-do-i-embed-a-gif-in-jupyter-notebook">sf sample</a></p>
<p><img alt="ChessUrl" src="https://upload.wikimedia.org/wikipedia/commons/7/71/ChessPawnSpecialMoves.gif" /></p>
<p><img alt="SegmentLocal1" src="_images/test-Gif-ok2.gif" /></p>
<p><img alt="SegmentLocal2" src="_images/test-Gif-ok21.gif" /></p>
<p><img alt="SegmentLocal3" src="_images/test-Gif-ok2.gif" /></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="n">x</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span>
<span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span><span class="si">=}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">x</span><span class="si">=}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="si">=}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>os.getcwd()=&#39;/Users/ngcchk/Documents/GitHub/gpd2-win-unity1/ipadred-rain/imgno_book1/imgnobk9&#39;
x=&#39;/Users/ngcchk/Documents/GitHub/gpd2-win-unity1/ipadred-rain/imgno_book1/imgnobk9&#39;
os.listdir(x)=[&#39;JB_logo.png&#39;, &#39;test-Gif-ok2.gif&#39;, &#39;.DS_Store&#39;, &#39;media copy&#39;, &#39;requirements.txt&#39;, &#39;imgnobk9References.bib&#39;, &#39;MacB9i-matlib-sample-animations.ipynb&#39;, &#39;lines_4.mp4&#39;, &#39;MacB9c-test3.ipynb&#39;, &#39;teset_7_particle_box.mp4&#39;, &#39;MacB9e-test-Gif-ok.ipynb&#39;, &#39;introAnimate.md&#39;, &#39;MacB9-Animate.ipynb&#39;, &#39;nongui_backend.png&#39;, &#39;test-Gif-ok3U2Alex.gif&#39;, &#39;img&#39;, &#39;MacB9d-test-iter.ipynb&#39;, &#39;_toc.yml&#39;, &#39;im_4.mp4&#39;, &#39;Less.png&#39;, &#39;_build&#39;, &#39;_config.yml&#39;, &#39;iter-ok1.gif&#39;, &#39;.ipynb_checkpoints&#39;, &#39;MacB9e-test-Gif-ok-CopyForAlex.ipynb&#39;, &#39;MacB9f-test-Juno-2.ipynb&#39;, &#39;Mlp3-cook1.ipynb&#39;, &#39;main&#39;, &#39;MacB9h-DB7-sync.ipynb&#39;, &#39;myAnimation.gif&#39;, &#39;MacB9b-TestPhyMSUanimate.ipynb&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">platform</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">platform</span><span class="o">.</span><span class="n">system</span><span class="p">()</span><span class="si">=}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">platform</span><span class="o">.</span><span class="n">release</span><span class="p">()</span><span class="si">=}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">platform</span><span class="o">.</span><span class="n">version</span><span class="p">()</span><span class="si">=}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># ipad</span>
<span class="sd">&#39;&#39;&#39;</span>
<span class="sd">platform.system()=&#39;Darwin&#39;</span>
<span class="sd">platform.release()=&#39;22.6.0&#39;</span>
<span class="sd">platform.version()=&#39;Darwin Kernel Version 22.6.0: Wed Jun 28 20:51:42 PDT 2023; root:xnu-8796.142.1~1/RELEASE_ARM64_T8020&#39;</span>
<span class="sd">&#39;&#39;&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>platform.system()=&#39;Darwin&#39;
platform.release()=&#39;22.6.0&#39;
platform.version()=&#39;Darwin Kernel Version 22.6.0: Wed Jul  5 22:22:52 PDT 2023; root:xnu-8796.141.3~6/RELEASE_ARM64_T8103&#39;
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&quot;\nplatform.system()=&#39;Darwin&#39;\nplatform.release()=&#39;22.6.0&#39;\nplatform.version()=&#39;Darwin Kernel Version 22.6.0: Wed Jun 28 20:51:42 PDT 2023; root:xnu-8796.142.1~1/RELEASE_ARM64_T8020&#39;\n&quot;
</pre></div>
</div>
</div>
</div>
</section>
</section>
<span id="document-MacB9d-test-iter"></span><section class="tex2jax_ignore mathjax_ignore" id="test-iter">
<h2>test-iter<a class="headerlink" href="#test-iter" title="Permalink to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span>  <span class="nn">os</span>
<span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span>
<span class="c1"># os.chdir(&quot;&quot;)</span>
<span class="sd">&#39;&#39;&#39;</span>
<span class="sd"># ios</span>
<span class="sd">&#39;/private/var/mobile/Containers/Shared/AppGroup/A224EFAB-AEB3-4B3B-A2A9-EE4282ED0D4A/File Provider Storage/Repositories/gpd2-win-unity1/ipadred-rain/info.computational_2_test/from_CP_MSU/Programs/PythonAnimations&#39;</span>
<span class="sd">&#39;&#39;&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&quot;\n# ios\n&#39;/private/var/mobile/Containers/Shared/AppGroup/A224EFAB-AEB3-4B3B-A2A9-EE4282ED0D4A/File Provider Storage/Repositories/gpd2-win-unity1/ipadred-rain/info.computational_2_test/from_CP_MSU/Programs/PythonAnimations&#39;\n&quot;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># https://matplotlib.org/stable/tutorials/introductory/usage.html#what-is-a-backend</span>
<span class="kn">import</span> <span class="nn">matplotlib</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="c1"># matplotlib.use(&#39;Agg&#39;) #&#39;MacOS&#39; ??</span>
<span class="kn">import</span> <span class="nn">pylab</span>
<span class="c1">#from pylab import *</span>
<span class="kn">import</span> <span class="nn">calendar</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>  <span class="c1"># Create a figure containing a single axes.</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>  <span class="c1"># Plot some data on the axes.</span>

<span class="c1">#plt.show()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&lt;matplotlib.lines.Line2D at 0x11c323b90&gt;]
</pre></div>
</div>
<img alt="_images/610e83b6eed891b878dbc1390df5d2906e61f6b4a467d54e94b2940aea2dd2de.png" src="_images/610e83b6eed891b878dbc1390df5d2906e61f6b4a467d54e94b2940aea2dd2de.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>  <span class="c1"># an empty figure with no Axes</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>  <span class="c1"># a figure with a single Axes</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>  <span class="c1"># a figure with a 2x2 grid of Axes</span>
<span class="c1"># a figure with one axes on the left, and two on the right:</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplot_mosaic</span><span class="p">([[</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="s1">&#39;right_top&#39;</span><span class="p">],</span>
                               <span class="p">[</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="s1">&#39;right_bottom&#39;</span><span class="p">]])</span>

<span class="c1">#plt.show()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Figure size 640x480 with 0 Axes&gt;
</pre></div>
</div>
<img alt="_images/e90d8f2c9f70eecb88a02eac39b631f0c6b659a1fe7234099703577c13a60cca.png" src="_images/e90d8f2c9f70eecb88a02eac39b631f0c6b659a1fe7234099703577c13a60cca.png" />
<img alt="_images/b97e6f51ee9907b04ae80bb7acc5f22d4254e8bd46b346adba5f0b7b9a1613a7.png" src="_images/b97e6f51ee9907b04ae80bb7acc5f22d4254e8bd46b346adba5f0b7b9a1613a7.png" />
<img alt="_images/f56cd60fe1fd591c4b6098de13963970f3b491a86649408b09ab1d9f61463256.png" src="_images/f56cd60fe1fd591c4b6098de13963970f3b491a86649408b09ab1d9f61463256.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">matrix</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="n">b_asarray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">b_asarray</span><span class="p">)</span>

<span class="c1"># seems implicitly has plots</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[[1 2]
 [3 4]]
[[1 2]
 [3 4]]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">19680801</span><span class="p">)</span>  <span class="c1"># seed the random number generator.</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span>
        <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">),</span>
        <span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">50</span><span class="p">)}</span>
<span class="n">data</span><span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="mi">10</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="n">data</span><span class="p">[</span><span class="s1">&#39;d&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;d&#39;</span><span class="p">])</span> <span class="o">*</span> <span class="mi">100</span>
<span class="c1">#print(data)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">])</span> 
<span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">])</span> 
<span class="c1">#print(f&#39;{data[&#39;a&#39;]}&#39;) no work</span>
<span class="c1">#,\n,{b},\n,{c},\n,{d},\n&#39;)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mf">2.7</span><span class="p">),</span> <span class="n">layout</span><span class="o">=</span><span class="s1">&#39;constrained&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;entry a&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;entry b&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[ 0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23
 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47
 48 49]
[  4.8018808   -6.4972666  -11.2077656    6.322316     1.33391659
  11.36202025  -5.18315173   9.64545151   8.93059413  -2.9619809
   1.010722    10.5460328    6.02832418  13.15619153   7.92816087
  22.2140083   20.64277678  25.26559419  18.93012033  -3.62283088
  29.90723646   8.2618424    8.1226306   24.55220778  24.73672481
  35.29148044  19.39618445  20.81129384  26.1046295   23.53964929
  46.2580496   29.97454235  17.69996036  41.7538301   32.48260765
  31.30030868  36.13983623  36.18332016  48.92477345  44.27782523
  57.41677485  35.53675523  58.57367953  49.73629965  43.15151999
  28.47595654  52.43563731  37.8567097   51.49878342  49.98087623]
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Text(0, 0.5, &#39;entry b&#39;)
</pre></div>
</div>
<img alt="_images/6419f34d582ef5016cdc6ca502a6fa8a74515aab677e72c61fdaa471abb42eac.png" src="_images/6419f34d582ef5016cdc6ca502a6fa8a74515aab677e72c61fdaa471abb42eac.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>  <span class="c1"># Sample data.</span>

<span class="c1"># Note that even in the OO-style, we use `.pyplot.figure` to create the Figure.</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mf">2.7</span><span class="p">),</span> <span class="n">layout</span><span class="o">=</span><span class="s1">&#39;constrained&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;linear&#39;</span><span class="p">)</span>  <span class="c1"># Plot some data on the axes.</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;quadratic&#39;</span><span class="p">)</span>  <span class="c1"># Plot more data on the axes...</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="o">**</span><span class="mi">3</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;cubic&#39;</span><span class="p">)</span>  <span class="c1"># ... and some more.</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;x label&#39;</span><span class="p">)</span>  <span class="c1"># Add an x-label to the axes.</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;y label&#39;</span><span class="p">)</span>  <span class="c1"># Add a y-label to the axes.</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Simple Plot&quot;</span><span class="p">)</span>  <span class="c1"># Add a title to the axes.</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>  <span class="c1"># Add a legend.</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.legend.Legend at 0x11ce44cd0&gt;
</pre></div>
</div>
<img alt="_images/48e9dd350be6acf857e3e43c9cee095ed07dcaa841df95f92bcdc83f9e99754d.png" src="_images/48e9dd350be6acf857e3e43c9cee095ed07dcaa841df95f92bcdc83f9e99754d.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>  <span class="c1"># Sample data.</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mf">2.7</span><span class="p">),</span> <span class="n">layout</span><span class="o">=</span><span class="s1">&#39;constrained&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;linear&#39;</span><span class="p">)</span>  <span class="c1"># Plot some data on the (implicit) axes.</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;quadratic&#39;</span><span class="p">)</span>  <span class="c1"># etc.</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="o">**</span><span class="mi">3</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;cubic&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;x label&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;y label&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Simple Plot&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.legend.Legend at 0x11cedd610&gt;
</pre></div>
</div>
<img alt="_images/48e9dd350be6acf857e3e43c9cee095ed07dcaa841df95f92bcdc83f9e99754d.png" src="_images/48e9dd350be6acf857e3e43c9cee095ed07dcaa841df95f92bcdc83f9e99754d.png" />
</div>
</div>
<section id="use-embedded">
<h3>use embedded<a class="headerlink" href="#use-embedded" title="Permalink to this heading">#</a></h3>
<section id="https-matplotlib-org-stable-gallery-user-interfaces-index-html-user-interfaces">
<h4><a class="reference external" href="https://matplotlib.org/stable/gallery/user_interfaces/index.html#user-interfaces">https://matplotlib.org/stable/gallery/user_interfaces/index.html#user-interfaces</a><a class="headerlink" href="#https-matplotlib-org-stable-gallery-user-interfaces-index-html-user-interfaces" title="Permalink to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">my_plotter</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">data1</span><span class="p">,</span> <span class="n">data2</span><span class="p">,</span> <span class="n">param_dict</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A helper function to make a graph.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">out</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">data1</span><span class="p">,</span> <span class="n">data2</span><span class="p">,</span> <span class="o">**</span><span class="n">param_dict</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">out</span>

<span class="n">data1</span><span class="p">,</span> <span class="n">data2</span><span class="p">,</span> <span class="n">data3</span><span class="p">,</span> <span class="n">data4</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>  <span class="c1"># make 4 random data sets</span>
<span class="n">fig</span><span class="p">,</span> <span class="p">(</span><span class="n">ax1</span><span class="p">,</span> <span class="n">ax2</span><span class="p">)</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mf">2.7</span><span class="p">))</span>
<span class="n">my_plotter</span><span class="p">(</span><span class="n">ax1</span><span class="p">,</span> <span class="n">data1</span><span class="p">,</span> <span class="n">data2</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;marker&#39;</span><span class="p">:</span> <span class="s1">&#39;x&#39;</span><span class="p">})</span>
<span class="n">my_plotter</span><span class="p">(</span><span class="n">ax2</span><span class="p">,</span> <span class="n">data3</span><span class="p">,</span> <span class="n">data4</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;marker&#39;</span><span class="p">:</span> <span class="s1">&#39;o&#39;</span><span class="p">})</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&lt;matplotlib.lines.Line2D at 0x11cf96bd0&gt;]
</pre></div>
</div>
<img alt="_images/198e4ff1ad770708384a1271fb025a62fa6907b8e7c037e573422c2afc6b2d0c.png" src="_images/198e4ff1ad770708384a1271fb025a62fa6907b8e7c037e573422c2afc6b2d0c.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mf">2.7</span><span class="p">))</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data1</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">cumsum</span><span class="p">(</span><span class="n">data1</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">)</span>
<span class="n">l</span><span class="p">,</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">cumsum</span><span class="p">(</span><span class="n">data2</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;orange&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">l</span><span class="o">.</span><span class="n">set_linestyle</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/7378a710890b7ddc08ad2f11277a1287032be08a2b9f2edb627d853cd9a25a1e.png" src="_images/7378a710890b7ddc08ad2f11277a1287032be08a2b9f2edb627d853cd9a25a1e.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># fig, axs = plt.subplots(2, 2, figsize=(4, 3), layout=&#39;constrained&#39;)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">layout</span><span class="o">=</span><span class="s1">&#39;constrained&#39;</span><span class="p">)</span>

<span class="n">fig</span><span class="o">.</span><span class="n">set_facecolor</span><span class="p">(</span><span class="s1">&#39;thistle&#39;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s1">&#39;Super figure&#39;</span><span class="p">)</span>

<span class="c1"># axs = fig.subplots(2, 1, sharex=True) </span>
<span class="c1"># axs = fig.subplots(2, 1, sharey=True)</span>
 
<span class="c1"># axs = fig.subplots(2, 1, sharex=True)</span>

<span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;1x [m]&#39;</span><span class="p">)</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;1y [t]&#39;</span><span class="p">)</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_facecolor</span><span class="p">(</span><span class="s1">&#39;yellow&#39;</span><span class="p">)</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;axs1 title&#39;</span><span class="p">)</span>

<span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;0x [m]&#39;</span><span class="p">)</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;0y [t]&#39;</span><span class="p">)</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_facecolor</span><span class="p">(</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;axs2 title&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Text(0.5, 1.0, &#39;axs2 title&#39;)
</pre></div>
</div>
<img alt="_images/86b71ce1767eccadd67590e81ca6847d6ac204a1abfc42f4d37578445afa2cbf.png" src="_images/86b71ce1767eccadd67590e81ca6847d6ac204a1abfc42f4d37578445afa2cbf.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">layout</span><span class="o">=</span><span class="s1">&#39;constrained&#39;</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;lightskyblue&#39;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s1">&#39;Figure&#39;</span><span class="p">)</span>
<span class="n">figL</span><span class="p">,</span> <span class="n">figR</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">subfigures</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">figL</span><span class="o">.</span><span class="n">set_facecolor</span><span class="p">(</span><span class="s1">&#39;thistle&#39;</span><span class="p">)</span>
<span class="n">axL</span> <span class="o">=</span> <span class="n">figL</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">axL</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;x [m]&#39;</span><span class="p">)</span>
<span class="n">figL</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s1">&#39;Left subfigure&#39;</span><span class="p">)</span>
<span class="n">figR</span><span class="o">.</span><span class="n">set_facecolor</span><span class="p">(</span><span class="s1">&#39;paleturquoise&#39;</span><span class="p">)</span>
<span class="n">axR</span> <span class="o">=</span> <span class="n">figR</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">sharey</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">axR</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Axes 1&#39;</span><span class="p">)</span>
<span class="n">figR</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s1">&#39;Right subfigure&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Text(0.5, 0.98, &#39;Right subfigure&#39;)
</pre></div>
</div>
<img alt="_images/7cdb633bff6cdaf8067dbde2afbef360ba32cee1d30c1fc1dfbe62def515dd19.png" src="_images/7cdb633bff6cdaf8067dbde2afbef360ba32cee1d30c1fc1dfbe62def515dd19.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># https://gist.github.com/matthewfeickert/84245837f09673b2e7afea929c016904</span>
<span class="c1"># non inter and aggg</span>

<span class="kn">import</span> <span class="nn">matplotlib</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;somethin&quot;</span><span class="p">)</span>

<span class="c1">#if __name__ == &quot;__main__&quot;:</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Interactive mode: </span><span class="si">{</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">is_interactive</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="c1"># Agg is non-interactive and will not even import the GUI frameworks</span>
<span class="c1"># c.f. </span>
<span class="c1"># https://matplotlib.org/stable/tutorials/introductory/usage.html#what-is-a-backend</span>
<span class="c1"># c.f. https://twitter.com/tacaswell/status/1377122080664166408</span>
<span class="n">matplotlib</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s2">&quot;agg&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;matplotlib backend: </span><span class="si">{</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;backend&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s2">&quot;nongui_backend.png&quot;</span><span class="p">)</span>



<span class="c1">#fig.show()  # Errors as no GUI possible</span>
    
<span class="c1">#plt.show()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>somethin
Interactive mode: True
matplotlib backend: agg
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="some-iterable">
<h3>Some iterable<a class="headerlink" href="#some-iterable" title="Permalink to this heading">#</a></h3>
<section id="an-iterable-is">
<h4>An ITERABLE is:<a class="headerlink" href="#an-iterable-is" title="Permalink to this heading">#</a></h4>
<ol class="arabic simple">
<li><p>anything that can be looped over (i.e. you can loop over a string or file) or</p></li>
<li><p>anything that can appear on the right-side of a for-loop:  for x in iterable: … or</p></li>
<li><p>anything you can call with iter() that will return an ITERATOR: iter(obj) or</p></li>
<li><p>an object that defines <strong>iter</strong> that returns a fresh ITERATOR, or it may have a <strong>getitem</strong> method suitable for indexed lookup.</p></li>
</ol>
</section>
<section id="an-iterator-is-an-object">
<h4>An ITERATOR is an object:<a class="headerlink" href="#an-iterator-is-an-object" title="Permalink to this heading">#</a></h4>
<ol class="arabic">
<li><p>with state that remembers where it is during iteration,</p></li>
<li><p>with a <strong>next</strong> method that:
returns the next value in the iteration
updates the state to point at the next value
signals when it is done by raising StopIteration
and that is self-iterable
(meaning that it has an <strong>iter</strong> method that returns self).</p></li>
<li><p>Notes:
The <strong>next</strong> method in Python 3 is spelt next in Python 2, and
The builtin function next() calls that method on the object passed to it.</p>
<p>For example:</p>
</li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;cat&#39;</span>      <span class="c1"># s is an ITERABLE</span>
                   <span class="c1"># s is a str object that is immutable</span>
                   <span class="c1"># s has no state</span>
                   <span class="c1"># s has a __getitem__() method </span>

<span class="n">t</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>    <span class="c1"># t is an ITERATOR</span>
                   <span class="c1"># t has state (it starts by pointing at the &quot;c&quot;</span>
                   <span class="c1"># t has a next() method and an __iter__() method</span>

<span class="nb">next</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>        <span class="c1"># the next() function returns the next value and advances the state &#39;c&#39;</span>
<span class="nb">next</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>        <span class="c1"># the next() function returns the next value and advances</span>
<span class="c1"># &#39;a&#39;</span>
<span class="nb">next</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>        <span class="c1"># the next() function returns the next value and advances</span>
<span class="c1"># &#39;t&#39;</span>

<span class="nb">iter</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="ow">is</span> <span class="n">t</span>   <span class="c1"># the iterator is self-iterable</span>

<span class="c1">#next(t)        # next() raises StopIteration to signal that iteration is complete</span>
<span class="c1">#Traceback (most recent call last):</span>
<span class="c1">#...</span>
<span class="c1">#StopIteration</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Counter</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">current</span> <span class="o">=</span> <span class="n">low</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">high</span> <span class="o">=</span> <span class="n">high</span>

    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="fm">__next__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> <span class="c1"># Python 2: def next(self)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">current</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">current</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">high</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">current</span>
        <span class="k">raise</span> <span class="ne">StopIteration</span>


<span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">Counter</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">9</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
    
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3
4
5
6
7
8
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># https://stackoverflow.com/questions/7871338/creating-bar-charts-in-python</span>

<span class="kn">import</span> <span class="nn">matplotlib</span>
<span class="n">matplotlib</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;Agg&#39;</span><span class="p">)</span>
<span class="kn">import</span> <span class="nn">pylab</span>
<span class="c1">#from pylab import *</span>
<span class="kn">import</span> <span class="nn">calendar</span>

<span class="k">def</span> <span class="nf">webshow</span><span class="p">(</span><span class="n">img</span><span class="p">):</span>
    <span class="n">savefig</span><span class="p">(</span><span class="n">img</span><span class="p">,</span><span class="n">dpi</span><span class="o">=</span><span class="mi">500</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span> <span class="s1">&#39;Content-Type: text/html</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;&lt;img width=&quot;800&quot; height=&quot;400&quot; src=&quot;&#39;</span><span class="o">+</span><span class="n">img</span><span class="o">+</span><span class="s1">&#39;&quot; /&gt;&#39;</span><span class="p">)</span>
    
<span class="n">sorted_list</span> <span class="o">=</span> <span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),(</span> <span class="mi">3</span><span class="p">,</span><span class="mi">4</span> <span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span> <span class="p">,</span> <span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="c1">#np.linspace(0, 10, 1000)</span>


<span class="n">genres</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">n</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">sorted_list</span><span class="p">:</span> 
    <span class="n">genres</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sorted_list</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">n</span> <span class="o">+=</span> <span class="mi">1</span>

<span class="n">grosses</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">a</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">sorted_list</span><span class="p">:</span>
    <span class="n">grosses</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sorted_list</span><span class="p">[</span><span class="n">a</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">a</span> <span class="o">+=</span> <span class="mi">1</span>

<span class="n">pylab</span><span class="o">.</span><span class="n">clf</span><span class="p">()</span>
<span class="c1">#bar(arange(len(grosses)),grosses)</span>
<span class="c1">#xticks( arange(len(genres)),genres, rotation=80)</span>
<span class="c1">#webshow(&quot;barchart.png&quot;)</span>


<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">matplotlib.animation</span> <span class="k">as</span> <span class="nn">animation</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">rcParams</span>



<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">fig</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">bottom</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span>          <span class="c1"># Remark 1</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">grosses</span><span class="p">)),</span> <span class="n">grosses</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">ticklabel_format</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="s1">&#39;plain&#39;</span><span class="p">)</span>       <span class="c1"># Remark 2</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">genres</span><span class="p">)))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">genres</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">80</span><span class="p">)</span>

<span class="n">TWOPI</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span>

<span class="n">redDot</span><span class="p">,</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="mi">0</span><span class="p">)],</span> <span class="s1">&#39;ro&#39;</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">animate</span><span class="p">(</span><span class="n">i</span><span class="p">):</span>
    <span class="n">redDot</span><span class="o">.</span><span class="n">set_data</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">redDot</span><span class="p">,</span>

<span class="n">myAnimation</span> <span class="o">=</span> <span class="n">animation</span><span class="o">.</span><span class="n">FuncAnimation</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">animate</span><span class="p">,</span> <span class="n">frames</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">TWOPI</span><span class="p">,</span> <span class="mf">0.03</span><span class="p">),</span> <span class="n">interval</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">blit</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">repeat</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>


<span class="n">myAnimation</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;iter-ok1.gif&#39;</span><span class="p">,</span> <span class="n">writer</span><span class="o">=</span><span class="s1">&#39;pillow&#39;</span><span class="p">,</span> <span class="n">fps</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>


<span class="c1">#savefig(&#39;barchart.png&#39;, dpi=500)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/var/folders/33/krstvgns2rncl74r18tkv6_80000gn/T/ipykernel_32020/3627587708.py:58: MatplotlibDeprecationWarning: Setting data with a non sequence type is deprecated since 3.7 and will be remove two minor releases later
  redDot.set_data(i, np.sin(i))
/var/folders/33/krstvgns2rncl74r18tkv6_80000gn/T/ipykernel_32020/3627587708.py:58: MatplotlibDeprecationWarning: Setting data with a non sequence type is deprecated since 3.7 and will be remove two minor releases later
  redDot.set_data(i, np.sin(i))
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">collections.abc</span> <span class="kn">import</span> <span class="n">Iterable</span>

<span class="n">li</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]</span>
<span class="n">var1</span> <span class="o">=</span> <span class="mi">16</span>

<span class="nb">print</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">li</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">var1</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
False
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd"># no pyecharts ...</span>

<span class="sd">from pyecharts.charts import Bar</span>
<span class="sd">from pyecharts import options as opts</span>

<span class="sd"># Define data</span>
<span class="sd">x_data = [&#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;, &#39;E&#39;]</span>
<span class="sd">y_data = [10, 20, 30, 40, 50]</span>

<span class="sd"># Create a basic bar chart</span>
<span class="sd">bar = Bar()</span>
<span class="sd">bar.add_xaxis(x_data)</span>
<span class="sd">bar.add_yaxis(&quot;&quot;, y_data)</span>

<span class="sd"># Set chart options</span>
<span class="sd">bar.set_global_opts(title_opts=opts.TitleOpts(title=&quot;Basic Bar Chart&quot;))</span>

<span class="sd"># Render chart</span>
<span class="sd">bar.render(&quot;basic_bar_chart.html&quot;)</span>
<span class="sd">&#39;&#39;&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;\n# no pyecharts ...\n\nfrom pyecharts.charts import Bar\nfrom pyecharts import options as opts\n\n# Define data\nx_data = [\&#39;A\&#39;, \&#39;B\&#39;, \&#39;C\&#39;, \&#39;D\&#39;, \&#39;E\&#39;]\ny_data = [10, 20, 30, 40, 50]\n\n# Create a basic bar chart\nbar = Bar()\nbar.add_xaxis(x_data)\nbar.add_yaxis(&quot;&quot;, y_data)\n\n# Set chart options\nbar.set_global_opts(title_opts=opts.TitleOpts(title=&quot;Basic Bar Chart&quot;))\n\n# Render chart\nbar.render(&quot;basic_bar_chart.html&quot;)\n&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd"># not able to add bar yet</span>

<span class="sd">import matplotlib</span>
<span class="sd">import matplotlib.pyplot as plt</span>
<span class="sd">import numpy as np </span>
<span class="sd">import matplotlib.animation as animation</span>

<span class="sd">x = np.linspace(0, 10, 1000)</span>
<span class="sd">def update_figure():</span>
<span class="sd">    y = np.sin(x)</span>
<span class="sd">    return</span>


<span class="sd">figure, ax = plt.subplots()</span>

<span class="sd">anim = animation.FuncAnimation(figure, func=update_figure, fargs=(bar, iteration), frames=generator, interval=100, repeat=False)</span>



<span class="sd">f = r&quot;c://Users/xx/Desktop/animation.gif&quot; </span>
<span class="sd">writergif = animation.PillowWriter(fps=30) </span>
<span class="sd">anim.save(f, writer=writergif)</span>
<span class="sd">&#39;&#39;&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;\n# not able to add bar yet\n\nimport matplotlib\nimport matplotlib.pyplot as plt\nimport numpy as np \nimport matplotlib.animation as animation\n\nx = np.linspace(0, 10, 1000)\ndef update_figure():\n    y = np.sin(x)\n    return\n\n\nfigure, ax = plt.subplots()\n\nanim = animation.FuncAnimation(figure, func=update_figure, fargs=(bar, iteration), frames=generator, interval=100, repeat=False)\n\n\n\nf = r&quot;c://Users/xx/Desktop/animation.gif&quot; \nwritergif = animation.PillowWriter(fps=30) \nanim.save(f, writer=writergif)\n&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mytuple</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;apple&quot;</span><span class="p">,</span> <span class="s2">&quot;banana&quot;</span><span class="p">,</span> <span class="s2">&quot;cherry&quot;</span><span class="p">)</span>
<span class="n">myit</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="n">mytuple</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="n">myit</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="n">myit</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="n">myit</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>apple
banana
cherry
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd"># the raise StopIteration can cause some issues</span>
<span class="sd">class MyNumbers:</span>
<span class="sd">  def __iter__(self):</span>
<span class="sd">    self.a = 1</span>
<span class="sd">    return self</span>

<span class="sd">  def __next__(self):</span>
<span class="sd">    if self.a &lt;= 120:</span>
<span class="sd">      x = self.a</span>
<span class="sd">      self.a += 1</span>
<span class="sd">      return x</span>
<span class="sd">    else:</span>
<span class="sd">      raise StopIteration</span>

<span class="sd">myclass = MyNumbers()</span>
<span class="sd">myiter = iter(myclass)</span>

<span class="sd">#for x in myiter:</span>
<span class="sd">#  print(x,&quot;,&quot;,end=&quot;&quot;)</span>
<span class="sd"># https://holypython.com/how-to-create-matplotlib-animations-the-ultimate-guide/</span>




<span class="sd">import random</span>
<span class="sd">import matplotlib</span>
<span class="sd">import matplotlib.pyplot as plt</span>
<span class="sd">from matplotlib.animation import FuncAnimation</span>

<span class="sd">fig = plt.figure(figsize=(15,15))</span>


<span class="sd">x,y = [], []</span>
<span class="sd">index= iter(myclass)</span>
<span class="sd"># MyContainer(1, &quot;two&quot;, 3, 4.0)</span>
<span class="sd">#(1, 2, 3, 4, 1, 4, 1)</span>
<span class="sd">#()tuple # [] list]# np.arange (0.0, TWOPI, 0.1) #count()</span>
<span class="sd">def animate(i):</span>
<span class="sd">    x.append(next(index))</span>
<span class="sd">    y.append(random.randint(2,20))</span>
<span class="sd">    plt.style.use(&quot;ggplot&quot;)    </span>
<span class="sd">    plt.plot(x,y)</span>

<span class="sd">ani = FuncAnimation(fig, animate, interval=300)</span>
<span class="sd">ani.save(&#39;ani.gif&#39;, writer=&#39;pillow&#39;, fps=30)</span>
<span class="sd">plt.show()</span>
<span class="sd">&#39;&#39;&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;\n# the raise StopIteration can cause some issues\nclass MyNumbers:\n  def __iter__(self):\n    self.a = 1\n    return self\n\n  def __next__(self):\n    if self.a &lt;= 120:\n      x = self.a\n      self.a += 1\n      return x\n    else:\n      raise StopIteration\n\nmyclass = MyNumbers()\nmyiter = iter(myclass)\n\n#for x in myiter:\n#  print(x,&quot;,&quot;,end=&quot;&quot;)\n# https://holypython.com/how-to-create-matplotlib-animations-the-ultimate-guide/\n\n\n\n\nimport random\nimport matplotlib\nimport matplotlib.pyplot as plt\nfrom matplotlib.animation import FuncAnimation\n\nfig = plt.figure(figsize=(15,15))\n\n\nx,y = [], []\nindex= iter(myclass)\n# MyContainer(1, &quot;two&quot;, 3, 4.0)\n#(1, 2, 3, 4, 1, 4, 1)\n#()tuple # [] list]# np.arange (0.0, TWOPI, 0.1) #count()\ndef animate(i):\n    x.append(next(index))\n    y.append(random.randint(2,20))\n    plt.style.use(&quot;ggplot&quot;)    \n    plt.plot(x,y)\n\nani = FuncAnimation(fig, animate, interval=300)\nani.save(\&#39;ani.gif\&#39;, writer=\&#39;pillow\&#39;, fps=30)\nplt.show()\n&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># https://stackoverflow.com/questions/56423221/saving-animated-matplotlib-chart-to-gif</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">matplotlib.animation</span> <span class="k">as</span> <span class="nn">animation</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">rcParams</span>

<span class="c1"># configure full path for ImageMagick</span>
<span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;animation.convert_path&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;/usr/bin/convert&#39;</span>

<span class="n">TWOPI</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

<span class="n">t</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">TWOPI</span><span class="p">,</span> <span class="mf">0.001</span><span class="p">)</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="n">l</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>

<span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="n">TWOPI</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>

<span class="n">redDot</span><span class="p">,</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="mi">0</span><span class="p">)],</span> <span class="s1">&#39;ro&#39;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">animate</span><span class="p">(</span><span class="n">i</span><span class="p">):</span>
    <span class="n">redDot</span><span class="o">.</span><span class="n">set_data</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">redDot</span><span class="p">,</span>

<span class="c1"># create animation using the animate() function with no repeat</span>
<span class="n">myAnimation</span> <span class="o">=</span> <span class="n">animation</span><span class="o">.</span><span class="n">FuncAnimation</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">animate</span><span class="p">,</span> <span class="n">frames</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">TWOPI</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">),</span> \
                                      <span class="n">interval</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">blit</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">repeat</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># save animation at 30 frames per second</span>
<span class="c1">#myAnimation.save(&#39;myAnimation.gif&#39;, writer=&#39;imagemagick&#39;, fps=30)</span>

<span class="n">myAnimation</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;myAnimation.gif&#39;</span><span class="p">,</span> <span class="n">writer</span><span class="o">=</span><span class="s1">&#39;pillow&#39;</span><span class="p">,</span> <span class="n">fps</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/var/folders/33/krstvgns2rncl74r18tkv6_80000gn/T/ipykernel_32020/25224506.py:24: MatplotlibDeprecationWarning: Setting data with a non sequence type is deprecated since 3.7 and will be remove two minor releases later
  redDot.set_data(i, np.sin(i))
/var/folders/33/krstvgns2rncl74r18tkv6_80000gn/T/ipykernel_32020/25224506.py:24: MatplotlibDeprecationWarning: Setting data with a non sequence type is deprecated since 3.7 and will be remove two minor releases later
  redDot.set_data(i, np.sin(i))
</pre></div>
</div>
</div>
</div>
</section>
</section>
</section>
<span id="document-MacB9f-test-Juno-2"></span><section class="tex2jax_ignore mathjax_ignore" id="test-juno-2">
<h2>test-Juno-2<a class="headerlink" href="#test-juno-2" title="Permalink to this heading">#</a></h2>
<section id="random-text-now">
<h3>Random text now…<a class="headerlink" href="#random-text-now" title="Permalink to this heading">#</a></h3>
<p>Meon is different as it involves not a ruler holding by moving observator. Instead we have a moving observator with a fixed ocean layer relative to earth obversort.</p>
<p>effectively the spaceclike sude actualky maintain the length calculation using euclidian geometry or it draw an arc of <span class="math notranslate nohighlight">\(\delta x_{0} = \gamma x \)</span></p>
<p>the point on the <span class="math notranslate nohighlight">\(\tilde{ct}\)</span> line proper time dot follow hyperbola (as <span class="math notranslate nohighlight">\(s at x=0\)</span> rotate against the curve <span class="math notranslate nohighlight">\(\tilde{s}^{2} = (c\tilde{t})^{2} - \tilde{x}^{2})\)</span>. but the point of <span class="math notranslate nohighlight">\(\tilde{x}\)</span> at <span class="math notranslate nohighlight">\(\tilde{x}\)</span> follow <span class="math notranslate nohighlight">\(\delta x_{0}\)</span></p>
</section>
</section>
<span id="document-MacB9c-test3"></span><section class="tex2jax_ignore mathjax_ignore" id="test3">
<h2>test3<a class="headerlink" href="#test3" title="Permalink to this heading">#</a></h2>
</section>
<span id="document-MacB9i-matlib-sample-animations"></span><p>.. redirect-from:: /tutorials/introductory/animation_tutorial</p>
<section class="tex2jax_ignore mathjax_ignore" id="animations-using-matplotlib">
<h2>Animations using Matplotlib<a class="headerlink" href="#animations-using-matplotlib" title="Permalink to this heading">#</a></h2>
<p>Based on its plotting functionality, Matplotlib also provides an interface to
generate animations using the <code class="docutils literal notranslate"><span class="pre">~matplotlib.animation</span></code> module. An
animation is a sequence of frames where each frame corresponds to a plot on a
<code class="docutils literal notranslate"><span class="pre">~matplotlib.figure.Figure</span></code>. This tutorial covers a general guideline on
how to create such animations and the different options available.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="kn">import</span> <span class="nn">matplotlib.animation</span> <span class="k">as</span> <span class="nn">animation</span>

<span class="c1"># default nothing does not work here!!!</span>
<span class="c1"># %matplotlib</span>
<span class="c1"># %matplotlib qt </span>
<span class="o">%</span><span class="k">matplotlib</span> tk 
</pre></div>
</div>
</div>
</div>
<section id="animation-classes">
<h3>Animation Classes<a class="headerlink" href="#animation-classes" title="Permalink to this heading">#</a></h3>
<p>The animation process in Matplotlib can be thought of in 2 different ways:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">~matplotlib.animation.FuncAnimation</span></code>: Generate data for first
frame and then modify this data for each frame to create an animated plot.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">~matplotlib.animation.ArtistAnimation</span></code>: Generate a list (iterable)
of artists that will draw in each frame in the animation.</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">~matplotlib.animation.FuncAnimation</span></code> is more efficient in terms of
speed and memory as it draws an artist once and then modifies it. On the
other hand <code class="docutils literal notranslate"><span class="pre">~matplotlib.animation.ArtistAnimation</span></code> is flexible as it
allows any iterable of artists to be animated in a sequence.</p>
<section id="funcanimation">
<h4><code class="docutils literal notranslate"><span class="pre">FuncAnimation</span></code><a class="headerlink" href="#funcanimation" title="Permalink to this heading">#</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">~matplotlib.animation.FuncAnimation</span></code> class allows us to create an
animation by passing a function that iteratively modifies the data of a plot.
This is achieved by using the <em>setter</em> methods on various
<code class="docutils literal notranslate"><span class="pre">~matplotlib.artist.Artist</span></code> (examples: <code class="docutils literal notranslate"><span class="pre">~matplotlib.lines.Line2D</span></code>,
<code class="docutils literal notranslate"><span class="pre">~matplotlib.collections.PathCollection</span></code>, etc.). A usual
<code class="docutils literal notranslate"><span class="pre">~matplotlib.animation.FuncAnimation</span></code> object takes a
<code class="docutils literal notranslate"><span class="pre">~matplotlib.figure.Figure</span></code> that we want to animate and a function
<em>func</em> that modifies the data plotted on the figure. It uses the <em>frames</em>
parameter to determine the length of the animation. The <em>interval</em> parameter
is used to determine time in milliseconds between drawing of two frames.
Animating using <code class="docutils literal notranslate"><span class="pre">.FuncAnimation</span></code> would usually follow the following
structure:</p>
<ul class="simple">
<li><p>Plot the initial figure, including all the required artists. Save all the
artists in variables so that they can be updated later on during the
animation.</p></li>
<li><p>Create an animation function that updates the data in each artist to
generate the new frame at each function call.</p></li>
<li><p>Create a <code class="docutils literal notranslate"><span class="pre">.FuncAnimation</span></code> object with the <code class="docutils literal notranslate"><span class="pre">.Figure</span></code> and the animation
function, along with the keyword arguments that determine the animation
properties.</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">.animation.Animation.save</span></code> or <code class="docutils literal notranslate"><span class="pre">.pyplot.show</span></code> to save or show the
animation.</p></li>
</ul>
<p>The update function uses the <code class="docutils literal notranslate"><span class="pre">set_*</span></code> function for different artists to
modify the data. The following table shows a few plotting methods, the artist
types they return and some methods that can be used to update them.</p>
<p>========================================  =============================  ===========================
Plotting method                           Artist                         Set method
========================================  =============================  ===========================
<code class="docutils literal notranslate"><span class="pre">.Axes.plot</span></code>                              <code class="docutils literal notranslate"><span class="pre">.lines.Line2D</span></code>                <code class="docutils literal notranslate"><span class="pre">~.lines.Line2D.set_data</span></code>
<code class="docutils literal notranslate"><span class="pre">.Axes.scatter</span></code>                           <code class="docutils literal notranslate"><span class="pre">.collections.PathCollection</span></code>  <code class="docutils literal notranslate"><span class="pre">~.collections.\</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">PathCollection.set_offsets</span></code>
<code class="docutils literal notranslate"><span class="pre">.Axes.imshow</span></code>                            <code class="docutils literal notranslate"><span class="pre">.image.AxesImage</span></code>             <code class="docutils literal notranslate"><span class="pre">AxesImage.set_data</span></code>
<code class="docutils literal notranslate"><span class="pre">.Axes.annotate</span></code>                          <code class="docutils literal notranslate"><span class="pre">.text.Annotation</span></code>             <code class="docutils literal notranslate"><span class="pre">~.text.Annotation.\</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">update_positions</span></code>
<code class="docutils literal notranslate"><span class="pre">.Axes.barh</span></code>                              <code class="docutils literal notranslate"><span class="pre">.patches.Rectangle</span></code>           <code class="docutils literal notranslate"><span class="pre">~.Rectangle.set_angle</span></code>,
<code class="docutils literal notranslate"><span class="pre">~.Rectangle.set_bounds</span></code>,
<code class="docutils literal notranslate"><span class="pre">~.Rectangle.set_height</span></code>,
<code class="docutils literal notranslate"><span class="pre">~.Rectangle.set_width</span></code>,
<code class="docutils literal notranslate"><span class="pre">~.Rectangle.set_x</span></code>,
<code class="docutils literal notranslate"><span class="pre">~.Rectangle.set_y</span></code>,
<code class="docutils literal notranslate"><span class="pre">~.Rectangle.set_xy</span></code>
<code class="docutils literal notranslate"><span class="pre">.Axes.fill</span></code>                              <code class="docutils literal notranslate"><span class="pre">.patches.Polygon</span></code>             <code class="docutils literal notranslate"><span class="pre">~.Polygon.set_xy</span></code>
<code class="docutils literal notranslate"><span class="pre">.Axes.add_patch</span></code>(<code class="docutils literal notranslate"><span class="pre">.patches.Ellipse</span></code>)   <code class="docutils literal notranslate"><span class="pre">.patches.Ellipse</span></code>             <code class="docutils literal notranslate"><span class="pre">~.Ellipse.set_angle</span></code>,
<code class="docutils literal notranslate"><span class="pre">~.Ellipse.set_center</span></code>,
<code class="docutils literal notranslate"><span class="pre">~.Ellipse.set_height</span></code>,
<code class="docutils literal notranslate"><span class="pre">~.Ellipse.set_width</span></code>
========================================  =============================  ===========================</p>
<p>Covering the set methods for all types of artists is beyond the scope of this
tutorial but can be found in their respective documentations. An example of
such update methods in use for <code class="docutils literal notranslate"><span class="pre">.Axes.scatter</span></code> and <code class="docutils literal notranslate"><span class="pre">.Axes.plot</span></code> is as follows.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">40</span><span class="p">)</span>
<span class="n">g</span> <span class="o">=</span> <span class="o">-</span><span class="mf">9.81</span>
<span class="n">v0</span> <span class="o">=</span> <span class="mi">12</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">g</span> <span class="o">*</span> <span class="n">t</span><span class="o">**</span><span class="mi">2</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">v0</span> <span class="o">*</span> <span class="n">t</span>

<span class="n">v02</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">z2</span> <span class="o">=</span> <span class="n">g</span> <span class="o">*</span> <span class="n">t</span><span class="o">**</span><span class="mi">2</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">v02</span> <span class="o">*</span> <span class="n">t</span>

<span class="n">scat</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">z</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">c</span><span class="o">=</span><span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;v0 = </span><span class="si">{</span><span class="n">v0</span><span class="si">}</span><span class="s1"> m/s&#39;</span><span class="p">)</span>
<span class="n">line2</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">z2</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;v0 = </span><span class="si">{</span><span class="n">v02</span><span class="si">}</span><span class="s1"> m/s&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">xlim</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">ylim</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span> <span class="n">xlabel</span><span class="o">=</span><span class="s1">&#39;Time [s]&#39;</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="s1">&#39;Z [m]&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>


<span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="n">frame</span><span class="p">):</span>
    <span class="c1"># for each frame, update the data stored on each artist.</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">t</span><span class="p">[:</span><span class="n">frame</span><span class="p">]</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">z</span><span class="p">[:</span><span class="n">frame</span><span class="p">]</span>
    <span class="c1"># update the scatter plot:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">stack</span><span class="p">([</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">])</span><span class="o">.</span><span class="n">T</span>
    <span class="n">scat</span><span class="o">.</span><span class="n">set_offsets</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="c1"># update the line plot:</span>
    <span class="n">line2</span><span class="o">.</span><span class="n">set_xdata</span><span class="p">(</span><span class="n">t</span><span class="p">[:</span><span class="n">frame</span><span class="p">])</span>
    <span class="n">line2</span><span class="o">.</span><span class="n">set_ydata</span><span class="p">(</span><span class="n">z2</span><span class="p">[:</span><span class="n">frame</span><span class="p">])</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">scat</span><span class="p">,</span> <span class="n">line2</span><span class="p">)</span>


<span class="n">ani</span> <span class="o">=</span> <span class="n">animation</span><span class="o">.</span><span class="n">FuncAnimation</span><span class="p">(</span><span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span> <span class="n">func</span><span class="o">=</span><span class="n">update</span><span class="p">,</span> <span class="n">frames</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="n">interval</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="artistanimation">
<h4><code class="docutils literal notranslate"><span class="pre">ArtistAnimation</span></code><a class="headerlink" href="#artistanimation" title="Permalink to this heading">#</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">~matplotlib.animation.ArtistAnimation</span></code> can be used
to generate animations if there is data stored on various different artists.
This list of artists is then converted frame by frame into an animation. For
example, when we use <code class="docutils literal notranslate"><span class="pre">.Axes.barh</span></code> to plot a bar-chart, it creates a number of
artists for each of the bar and error bars. To update the plot, one would
need to update each of the bars from the container individually and redraw
them. Instead, <code class="docutils literal notranslate"><span class="pre">.animation.ArtistAnimation</span></code> can be used to plot each frame
individually and then stitched together to form an animation. A barchart race
is a simple example for this.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">default_rng</span><span class="p">(</span><span class="mi">19680801</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">])</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>

<span class="n">artists</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;tab:blue&#39;</span><span class="p">,</span> <span class="s1">&#39;tab:red&#39;</span><span class="p">,</span> <span class="s1">&#39;tab:green&#39;</span><span class="p">,</span> <span class="s1">&#39;tab:purple&#39;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">):</span>
    <span class="n">data</span> <span class="o">+=</span> <span class="n">rng</span><span class="o">.</span><span class="n">integers</span><span class="p">(</span><span class="n">low</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">high</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
    <span class="n">container</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">barh</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">colors</span><span class="p">)</span>
    <span class="n">artists</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">container</span><span class="p">)</span>


<span class="n">ani</span> <span class="o">=</span> <span class="n">animation</span><span class="o">.</span><span class="n">ArtistAnimation</span><span class="p">(</span><span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span> <span class="n">artists</span><span class="o">=</span><span class="n">artists</span><span class="p">,</span> <span class="n">interval</span><span class="o">=</span><span class="mi">400</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="animation-writers">
<h3>Animation Writers<a class="headerlink" href="#animation-writers" title="Permalink to this heading">#</a></h3>
<p>Animation objects can be saved to disk using various multimedia writers
(ex: Pillow, <em>ffpmeg</em>, <em>imagemagick</em>). Not all video formats are supported
by all writers. There are 4 major types of writers:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">~matplotlib.animation.PillowWriter</span></code> - Uses the Pillow library to
create the animation.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">~matplotlib.animation.HTMLWriter</span></code> - Used to create JavaScript-based
animations.</p></li>
<li><p>Pipe-based writers - <code class="docutils literal notranslate"><span class="pre">~matplotlib.animation.FFMpegWriter</span></code> and
<code class="docutils literal notranslate"><span class="pre">~matplotlib.animation.ImageMagickWriter</span></code> are pipe based writers.
These writers pipe each frame to the utility (<em>ffmpeg</em> / <em>imagemagick</em>)
which then stitches all of them together to create the animation.</p></li>
<li><p>File-based writers - <code class="docutils literal notranslate"><span class="pre">~matplotlib.animation.FFMpegFileWriter</span></code> and
<code class="docutils literal notranslate"><span class="pre">~matplotlib.animation.ImageMagickFileWriter</span></code> are examples of
file-based writers. These writers are slower than their pipe-based
alternatives but are more useful for debugging as they save each frame in
a file before stitching them together into an animation.</p></li>
</ul>
<section id="saving-animations">
<h4>Saving Animations<a class="headerlink" href="#saving-animations" title="Permalink to this heading">#</a></h4>
<p>.. list-table::
:header-rows: 1</p>
<ul class="simple">
<li><ul>
<li><p>Writer</p></li>
<li><p>Supported Formats</p></li>
</ul>
</li>
<li><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">~matplotlib.animation.PillowWriter</span></code></p></li>
<li><p>.gif, .apng, .webp</p></li>
</ul>
</li>
<li><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">~matplotlib.animation.HTMLWriter</span></code></p></li>
<li><p>.htm, .html, .png</p></li>
</ul>
</li>
<li><ul>
<li><p>| <code class="docutils literal notranslate"><span class="pre">~matplotlib.animation.FFMpegWriter</span></code>
| <code class="docutils literal notranslate"><span class="pre">~matplotlib.animation.FFMpegFileWriter</span></code></p></li>
<li><p>All formats supported by |ffmpeg|_: <code class="docutils literal notranslate"><span class="pre">ffmpeg</span> <span class="pre">-formats</span></code></p></li>
</ul>
</li>
<li><ul>
<li><p>| <code class="docutils literal notranslate"><span class="pre">~matplotlib.animation.ImageMagickWriter</span></code>
| <code class="docutils literal notranslate"><span class="pre">~matplotlib.animation.ImageMagickFileWriter</span></code></p></li>
<li><p>All formats supported by |imagemagick|_: <code class="docutils literal notranslate"><span class="pre">magick</span> <span class="pre">-list</span> <span class="pre">format</span></code></p></li>
</ul>
</li>
</ul>
<p>.. |ffmpeg| replace:: <em>ffmpeg</em></p>
<p>.. |imagemagick| replace:: <em>imagemagick</em></p>
<p>To save animations using any of the writers, we can use the
<code class="docutils literal notranslate"><span class="pre">.animation.Animation.save</span></code> method. It takes the <em>filename</em> that we want to
save the animation as and the <em>writer</em>, which is either a string or a writer
object. It also takes an <em>fps</em> argument. This argument is different than the
<em>interval</em> argument that <code class="docutils literal notranslate"><span class="pre">~.animation.FuncAnimation</span></code> or
<code class="docutils literal notranslate"><span class="pre">~.animation.ArtistAnimation</span></code> uses. <em>fps</em> determines the frame rate that the
<strong>saved</strong> animation uses, whereas <em>interval</em> determines the frame rate that
the <strong>displayed</strong> animation uses.</p>
<p>Below are a few examples that show how to save an animation with different
writers.</p>
<p>Pillow writers::</p>
<p>ani.save(filename=”/tmp/pillow_example.gif”, writer=”pillow”)
ani.save(filename=”/tmp/pillow_example.apng”, writer=”pillow”)</p>
<p>HTML writers::</p>
<p>ani.save(filename=”/tmp/html_example.html”, writer=”html”)
ani.save(filename=”/tmp/html_example.htm”, writer=”html”)
ani.save(filename=”/tmp/html_example.png”, writer=”html”)</p>
<p>FFMpegWriter::</p>
<p>ani.save(filename=”/tmp/ffmpeg_example.mkv”, writer=”ffmpeg”)
ani.save(filename=”/tmp/ffmpeg_example.mp4”, writer=”ffmpeg”)
ani.save(filename=”/tmp/ffmpeg_example.mjpeg”, writer=”ffmpeg”)</p>
<p>Imagemagick writers::</p>
<p>ani.save(filename=”/tmp/imagemagick_example.gif”, writer=”imagemagick”)
ani.save(filename=”/tmp/imagemagick_example.webp”, writer=”imagemagick”)
ani.save(filename=”apng:/tmp/imagemagick_example.apng”,
writer=”imagemagick”, extra_args=[“-quality”, “100”])</p>
<p>(the <code class="docutils literal notranslate"><span class="pre">extra_args</span></code> for <em>apng</em> are needed to reduce filesize by ~10x)</p>
</section>
</section>
</section>
<span id="document-MacB9b-TestPhyMSUanimate"></span><section class="tex2jax_ignore mathjax_ignore" id="test-phy-msu-animation">
<h2>test phy msu animation<a class="headerlink" href="#test-phy-msu-animation" title="Permalink to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span>  <span class="nn">os</span>
<span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span>
<span class="c1"># os.chdir(&quot;&quot;)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;/Users/ngcchk/Documents/GitHub/gpd2-win-unity1/ipadred-rain/imgno_book1/imgnobk9&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">())</span>
<span class="c1">#os.listdir(&quot;/var/mobile/Containers/Data/Application/03AF0984-E7D3-402A-AC98-38B4F54E4D14/Library/Application Support/com.rationalmatter.junoapp/python-home/lib/python3.10/site-packages/matplotlib/backends/&quot;)</span>

<span class="sd">&#39;&#39;&#39;</span>
<span class="sd">[&#39;_backend_gtk.py&#39;,</span>
<span class="sd"> &#39;backend_template.py&#39;,</span>
<span class="sd"> &#39;backend_qtcairo.py&#39;,</span>
<span class="sd"> &#39;backend_qt.py&#39;,</span>
<span class="sd"> &#39;backend_gtk3cairo.py&#39;,</span>
<span class="sd"> &#39;backend_tkagg.py&#39;,</span>
<span class="sd"> &#39;backend_gtk4agg.py&#39;,</span>
<span class="sd"> &#39;web_backend&#39;,</span>
<span class="sd"> &#39;backend_qt5agg.py&#39;,</span>
<span class="sd"> &#39;backend_qt5.py&#39;,</span>
<span class="sd"> &#39;backend_gtk3agg.py&#39;,</span>
<span class="sd"> &#39;backend_cairo.py&#39;,</span>
<span class="sd"> &#39;backend_pdf.py&#39;,</span>
<span class="sd"> &#39;backend_wxagg.py&#39;,</span>
<span class="sd"> &#39;backend_pgf.py&#39;,</span>
<span class="sd"> &#39;backend_mixed.py&#39;,</span>
<span class="sd"> &#39;backend_macosx.py&#39;,</span>
<span class="sd"> &#39;backend_gtk4.py&#39;,</span>
<span class="sd"> &#39;__init__.py&#39;,</span>
<span class="sd"> &#39;__pycache__&#39;,</span>
<span class="sd"> &#39;qt_editor&#39;,</span>
<span class="sd"> &#39;backend_tkcairo.py&#39;,</span>
<span class="sd"> &#39;backend_gtk3.py&#39;,</span>
<span class="sd"> &#39;backend_wxcairo.py&#39;,</span>
<span class="sd"> &#39;backend_nbagg.py&#39;,</span>
<span class="sd"> &#39;backend_webagg_core.py&#39;,</span>
<span class="sd"> &#39;backend_gtk4cairo.py&#39;,</span>
<span class="sd"> &#39;backend_wx.py&#39;,</span>
<span class="sd"> &#39;backend_qt5cairo.py&#39;,</span>
<span class="sd"> &#39;_backend_tk.py&#39;,</span>
<span class="sd"> &#39;qt_compat.py&#39;,</span>
<span class="sd"> &#39;backend_svg.py&#39;,</span>
<span class="sd"> &#39;_backend_pdf_ps.py&#39;,</span>
<span class="sd"> &#39;backend_webagg.py&#39;,</span>
<span class="sd"> &#39;backend_ps.py&#39;,</span>
<span class="sd"> &#39;backend_qtagg.py&#39;,</span>
<span class="sd"> &#39;backend_agg.py&#39;]</span>
<span class="sd">&#39;&#39;&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&quot;\n[&#39;_backend_gtk.py&#39;,\n &#39;backend_template.py&#39;,\n &#39;backend_qtcairo.py&#39;,\n &#39;backend_qt.py&#39;,\n &#39;backend_gtk3cairo.py&#39;,\n &#39;backend_tkagg.py&#39;,\n &#39;backend_gtk4agg.py&#39;,\n &#39;web_backend&#39;,\n &#39;backend_qt5agg.py&#39;,\n &#39;backend_qt5.py&#39;,\n &#39;backend_gtk3agg.py&#39;,\n &#39;backend_cairo.py&#39;,\n &#39;backend_pdf.py&#39;,\n &#39;backend_wxagg.py&#39;,\n &#39;backend_pgf.py&#39;,\n &#39;backend_mixed.py&#39;,\n &#39;backend_macosx.py&#39;,\n &#39;backend_gtk4.py&#39;,\n &#39;__init__.py&#39;,\n &#39;__pycache__&#39;,\n &#39;qt_editor&#39;,\n &#39;backend_tkcairo.py&#39;,\n &#39;backend_gtk3.py&#39;,\n &#39;backend_wxcairo.py&#39;,\n &#39;backend_nbagg.py&#39;,\n &#39;backend_webagg_core.py&#39;,\n &#39;backend_gtk4cairo.py&#39;,\n &#39;backend_wx.py&#39;,\n &#39;backend_qt5cairo.py&#39;,\n &#39;_backend_tk.py&#39;,\n &#39;qt_compat.py&#39;,\n &#39;backend_svg.py&#39;,\n &#39;_backend_pdf_ps.py&#39;,\n &#39;backend_webagg.py&#39;,\n &#39;backend_ps.py&#39;,\n &#39;backend_qtagg.py&#39;,\n &#39;backend_agg.py&#39;]\n&quot;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#import numpy as np</span>
<span class="c1">#import matplotlib.pyplot as plt</span>
<span class="c1">#import matplotlib.animation as animation</span>
<span class="kn">import</span> <span class="nn">matplotlib</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">matplotlib.patches</span> <span class="k">as</span> <span class="nn">patches</span>
<span class="kn">import</span> <span class="nn">matplotlib.path</span> <span class="k">as</span> <span class="nn">path</span>
<span class="kn">import</span> <span class="nn">matplotlib.animation</span> <span class="k">as</span> <span class="nn">animation</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">scipy.spatial.distance</span> <span class="kn">import</span> <span class="n">pdist</span><span class="p">,</span> <span class="n">squareform</span>

<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">scipy.integrate</span> <span class="k">as</span> <span class="nn">integrate</span>
<span class="kn">import</span> <span class="nn">matplotlib.animation</span> <span class="k">as</span> <span class="nn">animation</span>


<span class="c1"># default nothing does not work here!!!</span>
<span class="c1"># %matplotlib</span>
<span class="c1">#%matplotlib qt </span>
<span class="o">%</span><span class="k">matplotlib</span> tk 

<span class="nb">print</span><span class="p">(</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">matplotlib_fname</span><span class="p">())</span>
<span class="sd">&#39;&#39;&#39;</span>
<span class="sd">filename = matplotlib.matplotlib_fname() # &quot;file.py&quot;</span>

<span class="sd">#print(&quot;---- no line end&quot;)</span>

<span class="sd">#with open(filename) as f:</span>
<span class="sd">#    content = f.readlines()</span>
<span class="sd">#print(content)</span>

<span class="sd">print(&quot;---- with line end&quot;)</span>

<span class="sd">with open(filename,&quot;r&quot;) as file: #&#39;Fruit.txt&#39;,&quot;r&quot;) as file:</span>
<span class="sd">    for line in file:</span>
<span class="sd">        #if InputText in line:</span>
<span class="sd">        print(line, end=&#39;&#39;)</span>
<span class="sd">        #print(line) #, end=&#39;&#39;)</span>
<span class="sd">        #print(next(file), end=&#39;&#39;)</span>
<span class="sd">        #break</span>

<span class="sd"># https://matplotlib.org/stable/users/explain/figure/backends.html</span>
<span class="sd"># The first usable backend in the following list is selected: MacOSX, QtAgg, GTK4Agg, Gtk3Agg, TkAgg, WxAgg, Agg. </span>
<span class="sd"># ... QtCairo</span>
<span class="sd"># ... ip...</span>
<span class="sd">&#39;&#39;&#39;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/Users/ngcchk/miniconda3/lib/python3.11/site-packages/matplotlib/mpl-data/matplotlibrc
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;\nfilename = matplotlib.matplotlib_fname() # &quot;file.py&quot;\n\n#print(&quot;---- no line end&quot;)\n\n#with open(filename) as f:\n#    content = f.readlines()\n#print(content)\n\nprint(&quot;---- with line end&quot;)\n\nwith open(filename,&quot;r&quot;) as file: #\&#39;Fruit.txt\&#39;,&quot;r&quot;) as file:\n    for line in file:\n        #if InputText in line:\n        print(line, end=\&#39;\&#39;)\n        #print(line) #, end=\&#39;\&#39;)\n        #print(next(file), end=\&#39;\&#39;)\n        #break\n\n# https://matplotlib.org/stable/users/explain/figure/backends.html\n# The first usable backend in the following list is selected: MacOSX, QtAgg, GTK4Agg, Gtk3Agg, TkAgg, WxAgg, Agg. \n# ... QtCairo\n# ... ip...\n&#39;
</pre></div>
</div>
</div>
</div>
<section id="remember-the-simulation-is-another-windows">
<h3>remember the simulation is another windows<a class="headerlink" href="#remember-the-simulation-is-another-windows" title="Permalink to this heading">#</a></h3>
<section id="need-to-close-down-before-you-can-have-another-one">
<h4>need to close down before you can have another one<a class="headerlink" href="#need-to-close-down-before-you-can-have-another-one" title="Permalink to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># test phy msu animationf</span>
<span class="c1"># from main import animate</span>
<span class="c1"># </span>
<span class="c1">#import matplotlib</span>
<span class="c1">#matplotlib.use(&quot;MacOSX&quot;)</span>
<span class="sd">&#39;&#39;&#39;</span>
<span class="sd">19: UserWarning: frames=&lt;function data_gen at 0x115cb5120&gt; which we can infer the length of, did not pass an explicit </span>
<span class="sd">  *save_count* and passed cache_frame_data=True.  </span>
<span class="sd">  To avoid a possibly unbounded cache, frame data caching has been disabled. </span>
<span class="sd">  To suppress this warning either pass `cache_frame_data=False` or `save_count=MAX_FRAMES`.</span>
<span class="sd">  ani = animation.FuncAnimation(fig, update, data_gen, interval=100)</span>
<span class="sd">&#39;&#39;&#39;</span>


<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">line</span><span class="p">,</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="n">line</span><span class="o">.</span><span class="n">set_ydata</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">line</span><span class="p">,</span>


<span class="k">def</span> <span class="nf">data_gen</span><span class="p">():</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="k">yield</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

<span class="n">MY_INTERVAL</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">MAX_FRAMES</span> <span class="o">=</span> <span class="mi">10</span> <span class="o">*</span> <span class="n">MY_INTERVAL</span> <span class="c1"># 00 # &gt; 100 </span>

<span class="n">ani</span> <span class="o">=</span> <span class="n">animation</span><span class="o">.</span><span class="n">FuncAnimation</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">update</span><span class="p">,</span> <span class="n">data_gen</span><span class="p">,</span> <span class="n">interval</span><span class="o">=</span><span class="n">MY_INTERVAL</span><span class="p">,</span> <span class="n">cache_frame_data</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                              <span class="c1">#save_count=MAX_FRAMES) # not much a difference</span>
                              <span class="c1">#100, save_count=MAX_FRAMES) #)</span>
                             <span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;test_1 on tk individually at least but not restart run all cell&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># test phy msu animationf</span>
<span class="c1"># from main import animate2</span>

<span class="c1">#import numpy as np</span>
<span class="c1">#import matplotlib.pyplot as plt</span>
<span class="c1">#import matplotlib.animation as animation</span>


<span class="k">def</span> <span class="nf">data_gen</span><span class="p">(</span><span class="n">t</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
    <span class="n">cnt</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">while</span> <span class="n">cnt</span> <span class="o">&lt;</span> <span class="mi">1000</span><span class="p">:</span>
        <span class="n">cnt</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">t</span> <span class="o">+=</span> <span class="mf">0.1</span>
        <span class="k">yield</span> <span class="n">t</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">t</span><span class="p">)</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">t</span><span class="o">/</span><span class="mf">10.</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">init</span><span class="p">():</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="o">-</span><span class="mf">1.1</span><span class="p">,</span> <span class="mf">1.1</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="k">del</span> <span class="n">xdata</span><span class="p">[:]</span>
    <span class="k">del</span> <span class="n">ydata</span><span class="p">[:]</span>
    <span class="n">line</span><span class="o">.</span><span class="n">set_data</span><span class="p">(</span><span class="n">xdata</span><span class="p">,</span> <span class="n">ydata</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">line</span><span class="p">,</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">line</span><span class="p">,</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">([],</span> <span class="p">[],</span> <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
<span class="n">xdata</span><span class="p">,</span> <span class="n">ydata</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[]</span>


<span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="c1"># update the data</span>
    <span class="n">t</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">data</span>
    <span class="n">xdata</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
    <span class="n">ydata</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
    <span class="n">xmin</span><span class="p">,</span> <span class="n">xmax</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_xlim</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">t</span> <span class="o">&gt;=</span> <span class="n">xmax</span><span class="p">:</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="n">xmin</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">xmax</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
    <span class="n">line</span><span class="o">.</span><span class="n">set_data</span><span class="p">(</span><span class="n">xdata</span><span class="p">,</span> <span class="n">ydata</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">line</span><span class="p">,</span>

<span class="n">MY_INTERVAL</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">MAX_FRAMES</span> <span class="o">=</span> <span class="mi">10</span> <span class="o">*</span> <span class="n">MY_INTERVAL</span> <span class="c1"># 00 # &gt; 100 </span>


<span class="n">ani</span> <span class="o">=</span> <span class="n">animation</span><span class="o">.</span><span class="n">FuncAnimation</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">run</span><span class="p">,</span> <span class="n">data_gen</span><span class="p">,</span> <span class="n">blit</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">interval</span><span class="o">=</span><span class="n">MY_INTERVAL</span><span class="p">,</span> <span class="n">cache_frame_data</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="c1">#False,</span>
                              <span class="c1"># save_count=MAX_FRAMES, #10, </span>
                              <span class="c1"># &lt;-- actually very different as it scale and scale and sacle</span>
                              <span class="n">repeat</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">init_func</span><span class="o">=</span><span class="n">init</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;test_2 on tk run 2 times needed&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/var/folders/33/krstvgns2rncl74r18tkv6_80000gn/T/ipykernel_32001/483570514.py:49: UserWarning: frames=&lt;function data_gen at 0x12bb3ccc0&gt; which we can infer the length of, did not pass an explicit *save_count* and passed cache_frame_data=True.  To avoid a possibly unbounded cache, frame data caching has been disabled. To suppress this warning either pass `cache_frame_data=False` or `save_count=MAX_FRAMES`.
  ani = animation.FuncAnimation(fig, run, data_gen, blit=False, interval=MY_INTERVAL, cache_frame_data=True, #False,
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># test phy msu animationf</span>
<span class="c1"># from main import animate3</span>
<span class="c1">#plt.close(&#39;all&#39;)</span>
<span class="c1">#import numpy as np</span>
<span class="c1">#import matplotlib.pyplot as plt</span>
<span class="c1">#import matplotlib.animation as animation</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">)</span>
<span class="n">line</span><span class="p">,</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>


<span class="k">def</span> <span class="nf">animate</span><span class="p">(</span><span class="n">i</span><span class="p">):</span>
    <span class="n">line</span><span class="o">.</span><span class="n">set_ydata</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">i</span><span class="o">/</span><span class="mf">10.0</span><span class="p">))</span>  <span class="c1"># update the data</span>
    <span class="k">return</span> <span class="n">line</span><span class="p">,</span>


<span class="c1"># Init only required for blitting to give a clean slate.</span>
<span class="k">def</span> <span class="nf">init</span><span class="p">():</span>
    <span class="n">line</span><span class="o">.</span><span class="n">set_ydata</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ma</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">mask</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">line</span><span class="p">,</span>

<span class="n">ani</span> <span class="o">=</span> <span class="n">animation</span><span class="o">.</span><span class="n">FuncAnimation</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">animate</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">200</span><span class="p">),</span> <span class="n">init_func</span><span class="o">=</span><span class="n">init</span><span class="p">,</span>
                              <span class="n">interval</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">blit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;test_3 on tk&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/Users/ngcchk/miniconda3/lib/python3.11/site-packages/matplotlib/animation.py:892: UserWarning: Animation was deleted without rendering anything. This is most likely not intended. To prevent deletion, assign the Animation to a variable, e.g. `anim`, that exists until you output the Animation using `plt.show()` or `anim.save()`.
  warnings.warn(
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#plt.close(&#39;all&#39;)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># test phy msu animationf</span>
<span class="c1"># from main import animate4</span>

<span class="c1">#import numpy as np</span>
<span class="c1">#import matplotlib</span>
<span class="c1">#import matplotlib.pyplot as plt</span>
<span class="c1">#import matplotlib.animation as animation</span>

<span class="c1">#matplotlib.use(&quot;Agg&quot;) # &lt;-- Beacuse it save below, it is ok!!!!!</span>


<span class="k">def</span> <span class="nf">update_line</span><span class="p">(</span><span class="n">num</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">line</span><span class="p">):</span>
    <span class="n">line</span><span class="o">.</span><span class="n">set_data</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="p">:</span><span class="n">num</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">line</span><span class="p">,</span>

<span class="c1"># Set up formatting for the movie files</span>
<span class="n">Writer</span> <span class="o">=</span> <span class="n">animation</span><span class="o">.</span><span class="n">writers</span><span class="p">[</span><span class="s1">&#39;ffmpeg&#39;</span><span class="p">]</span>  <span class="c1"># &lt;-- </span>
<span class="n">writer</span> <span class="o">=</span> <span class="n">Writer</span><span class="p">(</span><span class="n">fps</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">metadata</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">artist</span><span class="o">=</span><span class="s1">&#39;Me&#39;</span><span class="p">),</span> <span class="n">bitrate</span><span class="o">=</span><span class="mi">1800</span><span class="p">)</span>  <span class="c1"># &lt;-- </span>


<span class="n">fig1</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">25</span><span class="p">)</span>
<span class="n">l</span><span class="p">,</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([],</span> <span class="p">[],</span> <span class="s1">&#39;r-&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;test_4a line ok on tk&#39;</span><span class="p">)</span>
<span class="n">line_ani</span> <span class="o">=</span> <span class="n">animation</span><span class="o">.</span><span class="n">FuncAnimation</span><span class="p">(</span><span class="n">fig1</span><span class="p">,</span> <span class="n">update_line</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="n">fargs</span><span class="o">=</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">l</span><span class="p">),</span>
                                   <span class="n">interval</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">blit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">line_ani</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;lines_4.mp4&#39;</span><span class="p">,</span> <span class="n">writer</span><span class="o">=</span><span class="n">writer</span><span class="p">)</span>  <span class="c1"># &lt;-- </span>

<span class="n">fig2</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="o">-</span><span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="o">-</span><span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">base</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">hypot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="n">ims</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">add</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">15</span><span class="p">):</span>
    <span class="n">ims</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">plt</span><span class="o">.</span><span class="n">pcolor</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">base</span> <span class="o">+</span> <span class="n">add</span><span class="p">,</span> <span class="n">norm</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">Normalize</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">)),))</span>

<span class="n">im_ani</span> <span class="o">=</span> <span class="n">animation</span><span class="o">.</span><span class="n">ArtistAnimation</span><span class="p">(</span><span class="n">fig2</span><span class="p">,</span> <span class="n">ims</span><span class="p">,</span> <span class="n">interval</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">repeat_delay</span><span class="o">=</span><span class="mi">3000</span><span class="p">,</span>
                                   <span class="n">blit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">im_ani</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;im_4.mp4&#39;</span><span class="p">,</span> <span class="n">writer</span><span class="o">=</span><span class="n">writer</span><span class="p">)</span>  <span class="c1"># &lt;-- </span>

<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;test_4b grid colour map ok on tk&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#plt.close(&#39;all&#39;)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># test phy msu animationf</span>
<span class="c1"># matplotlib.use(&quot;MacOSX&quot;) # &lt;-- need this as no save</span>
<span class="c1"># from main import animate5</span>

<span class="c1">#import numpy as np</span>
<span class="c1">#import matplotlib.pyplot as plt</span>
<span class="c1">#import matplotlib.animation as animation</span>


<span class="k">def</span> <span class="nf">update_line</span><span class="p">(</span><span class="n">num</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">line</span><span class="p">):</span>
    <span class="n">line</span><span class="o">.</span><span class="n">set_data</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="p">:</span><span class="n">num</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">line</span><span class="p">,</span>

<span class="n">fig1</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">25</span><span class="p">)</span>
<span class="n">l</span><span class="p">,</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([],</span> <span class="p">[],</span> <span class="s1">&#39;r-&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;test_5_fig1 ok on tk&#39;</span><span class="p">)</span>
<span class="n">line_ani</span> <span class="o">=</span> <span class="n">animation</span><span class="o">.</span><span class="n">FuncAnimation</span><span class="p">(</span><span class="n">fig1</span><span class="p">,</span> <span class="n">update_line</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="n">fargs</span><span class="o">=</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">l</span><span class="p">),</span>
                                   <span class="n">interval</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">blit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>


<span class="n">fig2</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;test_5_fig2 nok on tk&#39;</span><span class="p">)</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="o">-</span><span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="o">-</span><span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">base</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">hypot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="n">ims</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">add</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">15</span><span class="p">):</span>
    <span class="n">ims</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">plt</span><span class="o">.</span><span class="n">pcolor</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">base</span> <span class="o">+</span> <span class="n">add</span><span class="p">,</span> <span class="n">norm</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">Normalize</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">)),))</span>

<span class="n">im_ani</span> <span class="o">=</span> <span class="n">animation</span><span class="o">.</span><span class="n">ArtistAnimation</span><span class="p">(</span><span class="n">fig2</span><span class="p">,</span> <span class="n">ims</span><span class="p">,</span> <span class="n">interval</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">repeat_delay</span><span class="o">=</span><span class="mi">3000</span><span class="p">,</span>
                                   <span class="n">blit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="c1"># To save this second animation with some metadata, use the following command:</span>
<span class="c1"># im_ani.save(&#39;im.mp4&#39;, metadata={&#39;artist&#39;:&#39;Guido&#39;})</span>

<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;test_5_fig2 again ok on tk&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#plt.close(&#39;all&#39;)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># test phy msu animationf</span>
<span class="c1"># matplotlib.use(&quot;MacOSX&quot;)</span>
<span class="c1"># from main import animate6</span>

<span class="c1">#import numpy as np</span>

<span class="c1">#import matplotlib.pyplot as plt</span>
<span class="c1">#import matplotlib.patches as patches</span>
<span class="c1">#import matplotlib.path as path</span>
<span class="c1">#import matplotlib.animation as animation</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

<span class="c1"># histogram our data with numpy</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<span class="n">n</span><span class="p">,</span> <span class="n">bins</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">histogram</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>

<span class="c1"># get the corners of the rectangles for the histogram</span>
<span class="n">left</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">bins</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="n">right</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">bins</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
<span class="n">bottom</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">left</span><span class="p">))</span>
<span class="n">top</span> <span class="o">=</span> <span class="n">bottom</span> <span class="o">+</span> <span class="n">n</span>
<span class="n">nrects</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">left</span><span class="p">)</span>

<span class="c1"># here comes the tricky part -- we have to set up the vertex and path</span>
<span class="c1"># codes arrays using moveto, lineto and closepoly</span>

<span class="c1"># for each rect: 1 for the MOVETO, 3 for the LINETO, 1 for the</span>
<span class="c1"># CLOSEPOLY; the vert for the closepoly is ignored but we still need</span>
<span class="c1"># it to keep the codes aligned with the vertices</span>
<span class="n">nverts</span> <span class="o">=</span> <span class="n">nrects</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="mi">3</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">verts</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">nverts</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="n">codes</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="n">nverts</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="o">*</span> <span class="n">path</span><span class="o">.</span><span class="n">Path</span><span class="o">.</span><span class="n">LINETO</span>
<span class="n">codes</span><span class="p">[</span><span class="mi">0</span><span class="p">::</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="n">path</span><span class="o">.</span><span class="n">Path</span><span class="o">.</span><span class="n">MOVETO</span>
<span class="n">codes</span><span class="p">[</span><span class="mi">4</span><span class="p">::</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="n">path</span><span class="o">.</span><span class="n">Path</span><span class="o">.</span><span class="n">CLOSEPOLY</span>
<span class="n">verts</span><span class="p">[</span><span class="mi">0</span><span class="p">::</span><span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">left</span>
<span class="n">verts</span><span class="p">[</span><span class="mi">0</span><span class="p">::</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">bottom</span>
<span class="n">verts</span><span class="p">[</span><span class="mi">1</span><span class="p">::</span><span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">left</span>
<span class="n">verts</span><span class="p">[</span><span class="mi">1</span><span class="p">::</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">top</span>
<span class="n">verts</span><span class="p">[</span><span class="mi">2</span><span class="p">::</span><span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">right</span>
<span class="n">verts</span><span class="p">[</span><span class="mi">2</span><span class="p">::</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">top</span>
<span class="n">verts</span><span class="p">[</span><span class="mi">3</span><span class="p">::</span><span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">right</span>
<span class="n">verts</span><span class="p">[</span><span class="mi">3</span><span class="p">::</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">bottom</span>

<span class="n">barpath</span> <span class="o">=</span> <span class="n">path</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">verts</span><span class="p">,</span> <span class="n">codes</span><span class="p">)</span>
<span class="n">patch</span> <span class="o">=</span> <span class="n">patches</span><span class="o">.</span><span class="n">PathPatch</span><span class="p">(</span>
    <span class="n">barpath</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;yellow&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">add_patch</span><span class="p">(</span><span class="n">patch</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="n">left</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">right</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="n">bottom</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="n">top</span><span class="o">.</span><span class="n">max</span><span class="p">())</span>


<span class="k">def</span> <span class="nf">animate</span><span class="p">(</span><span class="n">i</span><span class="p">):</span>
    <span class="c1"># simulate new data coming in</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
    <span class="n">n</span><span class="p">,</span> <span class="n">bins</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">histogram</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
    <span class="n">top</span> <span class="o">=</span> <span class="n">bottom</span> <span class="o">+</span> <span class="n">n</span>
    <span class="n">verts</span><span class="p">[</span><span class="mi">1</span><span class="p">::</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">top</span>
    <span class="n">verts</span><span class="p">[</span><span class="mi">2</span><span class="p">::</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">top</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">patch</span><span class="p">,</span> <span class="p">]</span>

<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;test_6 not working under qt but can work under tk&#39;</span><span class="p">)</span>
<span class="n">ani</span> <span class="o">=</span> <span class="n">animation</span><span class="o">.</span><span class="n">FuncAnimation</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">animate</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="n">repeat</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">blit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#plt.close(&#39;all&#39;)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># test phy msu animationf</span>
<span class="c1"># matplotlib.use(&quot;MacOSX&quot;)</span>
<span class="c1"># from main import animate7</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Animation of Elastic collisions with Gravity</span>

<span class="sd">author: Jake Vanderplas</span>
<span class="sd">email: vanderplas@astro.washington.edu</span>
<span class="sd">website: http://jakevdp.github.com</span>
<span class="sd">license: BSD</span>
<span class="sd">Please feel free to use and modify this, but keep the above information. Thanks!</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="c1">#import matplotlib.pyplot as plt</span>
<span class="c1">#import matplotlib.patches as patches</span>
<span class="c1">#import matplotlib.path as path</span>
<span class="c1">#import matplotlib.animation as animation</span>

<span class="c1">#import numpy as np</span>
<span class="c1">#from scipy.spatial.distance import pdist, squareform</span>

<span class="c1">#import matplotlib.pyplot as plt</span>
<span class="c1">#import scipy.integrate as integrate</span>
<span class="c1">#import matplotlib.animation as animation</span>

<span class="k">class</span> <span class="nc">ParticleBox</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Orbits class</span>
<span class="sd">    </span>
<span class="sd">    init_state is an [N x 4] array, where N is the number of particles:</span>
<span class="sd">       [[x1, y1, vx1, vy1],</span>
<span class="sd">        [x2, y2, vx2, vy2],</span>
<span class="sd">        ...               ]</span>

<span class="sd">    bounds is the size of the box: [xmin, xmax, ymin, ymax]</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                 <span class="n">init_state</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">],</span>
                               <span class="p">[</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">],</span>
                               <span class="p">[</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">]],</span>
                 <span class="n">bounds</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
                 <span class="n">size</span> <span class="o">=</span> <span class="mf">0.04</span><span class="p">,</span>
                 <span class="n">M</span> <span class="o">=</span> <span class="mf">0.05</span><span class="p">,</span>
                 <span class="n">G</span> <span class="o">=</span> <span class="mf">9.8</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">init_state</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">init_state</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">M</span> <span class="o">=</span> <span class="n">M</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">init_state</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="n">size</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">init_state</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">time_elapsed</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bounds</span> <span class="o">=</span> <span class="n">bounds</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">G</span> <span class="o">=</span> <span class="n">G</span>

    <span class="k">def</span> <span class="nf">step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dt</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;step once by dt seconds&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">time_elapsed</span> <span class="o">+=</span> <span class="n">dt</span>
        
        <span class="c1"># update positions</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">state</span><span class="p">[:,</span> <span class="p">:</span><span class="mi">2</span><span class="p">]</span> <span class="o">+=</span> <span class="n">dt</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span><span class="p">[:,</span> <span class="mi">2</span><span class="p">:]</span>

        <span class="c1"># find pairs of particles undergoing a collision</span>
        <span class="n">D</span> <span class="o">=</span> <span class="n">squareform</span><span class="p">(</span><span class="n">pdist</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">state</span><span class="p">[:,</span> <span class="p">:</span><span class="mi">2</span><span class="p">]))</span>
        <span class="n">ind1</span><span class="p">,</span> <span class="n">ind2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">D</span> <span class="o">&lt;</span> <span class="mi">2</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>
        <span class="n">unique</span> <span class="o">=</span> <span class="p">(</span><span class="n">ind1</span> <span class="o">&lt;</span> <span class="n">ind2</span><span class="p">)</span>
        <span class="n">ind1</span> <span class="o">=</span> <span class="n">ind1</span><span class="p">[</span><span class="n">unique</span><span class="p">]</span>
        <span class="n">ind2</span> <span class="o">=</span> <span class="n">ind2</span><span class="p">[</span><span class="n">unique</span><span class="p">]</span>

        <span class="c1"># update velocities of colliding pairs</span>
        <span class="k">for</span> <span class="n">i1</span><span class="p">,</span> <span class="n">i2</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">ind1</span><span class="p">,</span> <span class="n">ind2</span><span class="p">):</span>
            <span class="c1"># mass</span>
            <span class="n">m1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">M</span><span class="p">[</span><span class="n">i1</span><span class="p">]</span>
            <span class="n">m2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">M</span><span class="p">[</span><span class="n">i2</span><span class="p">]</span>

            <span class="c1"># location vector</span>
            <span class="n">r1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="n">i1</span><span class="p">,</span> <span class="p">:</span><span class="mi">2</span><span class="p">]</span>
            <span class="n">r2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="n">i2</span><span class="p">,</span> <span class="p">:</span><span class="mi">2</span><span class="p">]</span>

            <span class="c1"># velocity vector</span>
            <span class="n">v1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="n">i1</span><span class="p">,</span> <span class="mi">2</span><span class="p">:]</span>
            <span class="n">v2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="n">i2</span><span class="p">,</span> <span class="mi">2</span><span class="p">:]</span>

            <span class="c1"># relative location &amp; velocity vectors</span>
            <span class="n">r_rel</span> <span class="o">=</span> <span class="n">r1</span> <span class="o">-</span> <span class="n">r2</span>
            <span class="n">v_rel</span> <span class="o">=</span> <span class="n">v1</span> <span class="o">-</span> <span class="n">v2</span>

            <span class="c1"># momentum vector of the center of mass</span>
            <span class="n">v_cm</span> <span class="o">=</span> <span class="p">(</span><span class="n">m1</span> <span class="o">*</span> <span class="n">v1</span> <span class="o">+</span> <span class="n">m2</span> <span class="o">*</span> <span class="n">v2</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">m1</span> <span class="o">+</span> <span class="n">m2</span><span class="p">)</span>

            <span class="c1"># collisions of spheres reflect v_rel over r_rel</span>
            <span class="n">rr_rel</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">r_rel</span><span class="p">,</span> <span class="n">r_rel</span><span class="p">)</span>
            <span class="n">vr_rel</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">v_rel</span><span class="p">,</span> <span class="n">r_rel</span><span class="p">)</span>
            <span class="n">v_rel</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">r_rel</span> <span class="o">*</span> <span class="n">vr_rel</span> <span class="o">/</span> <span class="n">rr_rel</span> <span class="o">-</span> <span class="n">v_rel</span>

            <span class="c1"># assign new velocities</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="n">i1</span><span class="p">,</span> <span class="mi">2</span><span class="p">:]</span> <span class="o">=</span> <span class="n">v_cm</span> <span class="o">+</span> <span class="n">v_rel</span> <span class="o">*</span> <span class="n">m2</span> <span class="o">/</span> <span class="p">(</span><span class="n">m1</span> <span class="o">+</span> <span class="n">m2</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="n">i2</span><span class="p">,</span> <span class="mi">2</span><span class="p">:]</span> <span class="o">=</span> <span class="n">v_cm</span> <span class="o">-</span> <span class="n">v_rel</span> <span class="o">*</span> <span class="n">m1</span> <span class="o">/</span> <span class="p">(</span><span class="n">m1</span> <span class="o">+</span> <span class="n">m2</span><span class="p">)</span> 

        <span class="c1"># check for crossing boundary</span>
        <span class="n">crossed_x1</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">state</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">bounds</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>
        <span class="n">crossed_x2</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">state</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">bounds</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>
        <span class="n">crossed_y1</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">state</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">bounds</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>
        <span class="n">crossed_y2</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">state</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">bounds</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="n">crossed_x1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bounds</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="n">crossed_x2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bounds</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="n">crossed_y1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bounds</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="n">crossed_y2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bounds</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="n">crossed_x1</span> <span class="o">|</span> <span class="n">crossed_x2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">*=</span> <span class="o">-</span><span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="n">crossed_y1</span> <span class="o">|</span> <span class="n">crossed_y2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span> <span class="o">*=</span> <span class="o">-</span><span class="mi">1</span>

        <span class="c1"># add gravity</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">state</span><span class="p">[:,</span> <span class="mi">3</span><span class="p">]</span> <span class="o">-=</span> <span class="bp">self</span><span class="o">.</span><span class="n">M</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">G</span> <span class="o">*</span> <span class="n">dt</span>


<span class="c1">#------------------------------------------------------------</span>
<span class="c1"># set up initial state</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">init_state</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.5</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">((</span><span class="mi">50</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">init_state</span><span class="p">[:,</span> <span class="p">:</span><span class="mi">2</span><span class="p">]</span> <span class="o">*=</span> <span class="mf">3.9</span>

<span class="n">box</span> <span class="o">=</span> <span class="n">ParticleBox</span><span class="p">(</span><span class="n">init_state</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mf">0.04</span><span class="p">)</span>
<span class="n">dt</span> <span class="o">=</span> <span class="mf">1.</span> <span class="o">/</span> <span class="mi">30</span> <span class="c1"># 30fps</span>


<span class="c1">#------------------------------------------------------------</span>
<span class="c1"># set up figure and animation</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="c1"># err fig.title ...</span>
<span class="c1"># plt.title(&#39;test_7&#39;) # &lt;-- try here ands down below; both no effect</span>
<span class="n">fig</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">left</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">bottom</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">top</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">,</span> <span class="n">aspect</span><span class="o">=</span><span class="s1">&#39;equal&#39;</span><span class="p">,</span> <span class="n">autoscale_on</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                     <span class="n">xlim</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mf">3.2</span><span class="p">,</span> <span class="mf">3.2</span><span class="p">),</span> <span class="n">ylim</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mf">2.4</span><span class="p">,</span> <span class="mf">2.4</span><span class="p">))</span>
<span class="c1"># err as well ax.title(&#39;test_7_ax&#39;)</span>

<span class="c1"># particles holds the locations of the particles</span>
<span class="n">particles</span><span class="p">,</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">([],</span> <span class="p">[],</span> <span class="s1">&#39;bo&#39;</span><span class="p">,</span> <span class="n">ms</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>

<span class="c1"># rect is the box edge</span>
<span class="n">rect</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">Rectangle</span><span class="p">(</span><span class="n">box</span><span class="o">.</span><span class="n">bounds</span><span class="p">[::</span><span class="mi">2</span><span class="p">],</span>
                     <span class="n">box</span><span class="o">.</span><span class="n">bounds</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">box</span><span class="o">.</span><span class="n">bounds</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                     <span class="n">box</span><span class="o">.</span><span class="n">bounds</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">-</span> <span class="n">box</span><span class="o">.</span><span class="n">bounds</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
                     <span class="n">ec</span><span class="o">=</span><span class="s1">&#39;none&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">fc</span><span class="o">=</span><span class="s1">&#39;none&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">add_patch</span><span class="p">(</span><span class="n">rect</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">init</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;initialize animation&quot;&quot;&quot;</span>
    <span class="k">global</span> <span class="n">box</span><span class="p">,</span> <span class="n">rect</span>
    <span class="n">particles</span><span class="o">.</span><span class="n">set_data</span><span class="p">([],</span> <span class="p">[])</span>
    <span class="n">rect</span><span class="o">.</span><span class="n">set_edgecolor</span><span class="p">(</span><span class="s1">&#39;none&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">particles</span><span class="p">,</span> <span class="n">rect</span>

<span class="k">def</span> <span class="nf">animate</span><span class="p">(</span><span class="n">i</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;perform animation step&quot;&quot;&quot;</span>
    <span class="k">global</span> <span class="n">box</span><span class="p">,</span> <span class="n">rect</span><span class="p">,</span> <span class="n">dt</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">fig</span>
    <span class="n">box</span><span class="o">.</span><span class="n">step</span><span class="p">(</span><span class="n">dt</span><span class="p">)</span>

    <span class="n">ms</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">fig</span><span class="o">.</span><span class="n">dpi</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">box</span><span class="o">.</span><span class="n">size</span> <span class="o">*</span> <span class="n">fig</span><span class="o">.</span><span class="n">get_figwidth</span><span class="p">()</span>
             <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">ax</span><span class="o">.</span><span class="n">get_xbound</span><span class="p">())[</span><span class="mi">0</span><span class="p">])</span>
    
    <span class="c1"># update pieces of the animation</span>
    <span class="n">rect</span><span class="o">.</span><span class="n">set_edgecolor</span><span class="p">(</span><span class="s1">&#39;k&#39;</span><span class="p">)</span>
    <span class="n">particles</span><span class="o">.</span><span class="n">set_data</span><span class="p">(</span><span class="n">box</span><span class="o">.</span><span class="n">state</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">box</span><span class="o">.</span><span class="n">state</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">])</span>
    <span class="n">particles</span><span class="o">.</span><span class="n">set_markersize</span><span class="p">(</span><span class="n">ms</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">particles</span><span class="p">,</span> <span class="n">rect</span>

<span class="c1"># ax.title(&quot;fig10&quot;) # will destroy the animation it seems</span>
<span class="c1"># still no fig.title</span>

<span class="n">ani</span> <span class="o">=</span> <span class="n">animation</span><span class="o">.</span><span class="n">FuncAnimation</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">animate</span><span class="p">,</span> <span class="n">frames</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span>
                              <span class="n">interval</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">blit</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">init_func</span><span class="o">=</span><span class="n">init</span><span class="p">)</span>


<span class="c1"># save the animation as an mp4.  This requires ffmpeg or mencoder to be</span>
<span class="c1"># installed.  The extra_args ensure that the x264 codec is used, so that</span>
<span class="c1"># the video can be embedded in html5.  You may need to adjust this for</span>
<span class="c1"># your system: for more information, see</span>
<span class="c1"># http://matplotlib.sourceforge.net/api/animation_api.html</span>
<span class="c1">#ani.save(&#39;particle_box.mp4&#39;, fps=30, extra_args=[&#39;-vcodec&#39;, &#39;libx264&#39;])</span>


<span class="n">ani</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;teset_7_particle_box.mp4&#39;</span><span class="p">,</span> <span class="n">fps</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">extra_args</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;-vcodec&#39;</span><span class="p">,</span> <span class="s1">&#39;libx264&#39;</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;teset 7 not mp4 ok tk not shown in title though&quot;</span><span class="p">)</span> <span class="c1"># there but the windows too small to show it</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span> <span class="c1"># the show is not the .mp4 version</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#plt.close(&#39;all&#39;)</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
</section>
<span id="document-Mlp3-cook1"></span><section class="tex2jax_ignore mathjax_ignore" id="mpl3-cook1">
<h2>mpl3 cook1<a class="headerlink" href="#mpl3-cook1" title="Permalink to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">matplotlib.transforms</span> <span class="kn">import</span> <span class="n">Affine2D</span>
<span class="kn">import</span> <span class="nn">mpl_toolkits.axisartist.floating_axes</span> <span class="k">as</span> <span class="nn">floating_axes</span>
<span class="kn">from</span> <span class="nn">matplotlib.projections</span> <span class="kn">import</span> <span class="n">PolarAxes</span>
<span class="kn">import</span> <span class="nn">mpl_toolkits.axisartist.angle_helper</span> <span class="k">as</span> <span class="nn">angle_helper</span>
<span class="kn">from</span> <span class="nn">mpl_toolkits.axisartist.grid_finder</span> <span class="kn">import</span> <span class="n">MaxNLocator</span>
</pre></div>
</div>
</div>
</div>
</section>
</div>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  <!-- Previous / next buttons -->
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toctree-l1 toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="introAnimate.html#document-MacB9e-test-Gif-ok-CopyForAlex">test-Gif-ok</a></li>
<li class="toctree-l1 toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="introAnimate.html#document-MacB9-Animate">MacB9-Animate</a></li>
<li class="toctree-l1 toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="introAnimate.html#document-MacB9h-DB7-sync">DB7-sync</a></li>
<li class="toctree-l1 toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="introAnimate.html#document-MacB9e-test-Gif-ok">test-Gif-ok</a></li>
<li class="toctree-l1 toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="introAnimate.html#document-MacB9d-test-iter">test-iter</a></li>
<li class="toctree-l1 toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="introAnimate.html#document-MacB9f-test-Juno-2">test-Juno-2</a></li>
<li class="toctree-l1 toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="introAnimate.html#document-MacB9c-test3">test3</a></li>
<li class="toctree-l1 toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="introAnimate.html#document-MacB9i-matlib-sample-animations">Animations using Matplotlib</a></li>
<li class="toctree-l1 toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="introAnimate.html#document-MacB9b-TestPhyMSUanimate">test phy msu animation</a></li>
<li class="toctree-l1 toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="introAnimate.html#document-Mlp3-cook1">mpl3 cook1</a></li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Dennis Ng
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=ac02cc09edc035673794"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=ac02cc09edc035673794"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>